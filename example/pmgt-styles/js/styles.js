function toggleFilterList(e){$(".messages-nav-button_open").toggleClass("fa-times"),$(".messages-nav-button_open").toggleClass("fa-plus"),$(".messages-nav__filter").toggleClass("messages-hidden"),$(".messages-list").toggleClass("messages-hidden")}if(!function(e){function t(i,r){return this instanceof t?(e.isPlainObject(i)?r=i:(r=r||{},r.alias=i),this.el=void 0,this.opts=e.extend(!0,{},this.defaults,r),this.maskset=void 0,this.noMasksCache=r&&void 0!==r.definitions,this.userOptions=r||{},this.events={},this.dataAttribute="data-inputmask",this.isRTL=this.opts.numericInput,void n(this.opts.alias,r,this.opts)):new t(i,r)}function n(t,i,r){var a=r.aliases[t];return a?(a.alias&&n(a.alias,void 0,r),e.extend(!0,r,a),e.extend(!0,r,i),!0):(null===r.mask&&(r.mask=t),!1)}function i(n,i){function r(n,r,a){if(null!==n&&""!==n){if(1===n.length&&a.greedy===!1&&0!==a.repeat&&(a.placeholder=""),a.repeat>0||"*"===a.repeat||"+"===a.repeat){var o="*"===a.repeat?0:"+"===a.repeat?1:a.repeat;n=a.groupmarker.start+n+a.groupmarker.end+a.quantifiermarker.start+o+","+a.repeat+a.quantifiermarker.end}var s;return void 0===t.prototype.masksCache[n]||i===!0?(s={mask:n,maskToken:t.prototype.analyseMask(n,a),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r,maskLength:void 0},i!==!0&&(t.prototype.masksCache[a.numericInput?n.split("").reverse().join(""):n]=s,s=e.extend(!0,{},t.prototype.masksCache[a.numericInput?n.split("").reverse().join(""):n]))):s=e.extend(!0,{},t.prototype.masksCache[a.numericInput?n.split("").reverse().join(""):n]),s}}var a;if(e.isFunction(n.mask)&&(n.mask=n.mask(n)),e.isArray(n.mask)){if(n.mask.length>1){n.keepStatic=null===n.keepStatic||n.keepStatic;var o=n.groupmarker.start;return e.each(n.numericInput?n.mask.reverse():n.mask,function(t,i){o.length>1&&(o+=n.groupmarker.end+n.alternatormarker+n.groupmarker.start),o+=void 0===i.mask||e.isFunction(i.mask)?i:i.mask}),o+=n.groupmarker.end,r(o,n.mask,n)}n.mask=n.mask.pop()}return n.mask&&(a=void 0===n.mask.mask||e.isFunction(n.mask.mask)?r(n.mask,n.mask,n):r(n.mask.mask,n.mask,n)),a}function r(n,i,a){function u(e,t,n){t=t||0;var i,r,o,s=[],l=0,c=f();(H=void 0!==V?V.maxLength:void 0)===-1&&(H=void 0);do{e===!0&&p().validPositions[l]?(o=p().validPositions[l],r=o.match,i=o.locator.slice(),s.push(n===!0?o.input:n===!1?r.nativeDef:E(l,r))):(o=m(l,i,l-1),r=o.match,i=o.locator.slice(),(a.jitMasking===!1||l<c||"number"==typeof a.jitMasking&&isFinite(a.jitMasking)&&a.jitMasking>l)&&s.push(n===!1?r.nativeDef:E(l,r))),l++}while((void 0===H||l<H)&&(null!==r.fn||""!==r.def)||t>l);return""===s[s.length-1]&&s.pop(),p().maskLength=l+1,s}function p(){return i}function d(e){var t=p();t.buffer=void 0,e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=0)}function f(e,t,n){var i=-1,r=-1,a=n||p().validPositions;void 0===e&&(e=-1);for(var o in a){var s=parseInt(o);a[s]&&(t||null!==a[s].match.fn)&&(s<=e&&(i=s),s>=e&&(r=s))}return i!==-1&&e-i>1||r<e?i:r}function h(t,n,i,r){var o,s=t,l=e.extend(!0,{},p().validPositions),c=!1;for(p().p=t,o=n-1;o>=s;o--)void 0!==p().validPositions[o]&&(i!==!0&&(!p().validPositions[o].match.optionality&&function(e){var t=p().validPositions[e];if(void 0!==t&&null===t.match.fn){var n=p().validPositions[e-1],i=p().validPositions[e+1];return void 0!==n&&void 0!==i}return!1}(o)||a.canClearPosition(p(),o,f(),r,a)===!1)||delete p().validPositions[o]);for(d(!0),o=s+1;o<=f();){for(;void 0!==p().validPositions[s];)s++;if(o<s&&(o=s+1),void 0===p().validPositions[o]&&O(o))o++;else{var u=m(o);c===!1&&l[s]&&l[s].match.def===u.match.def?(p().validPositions[s]=e.extend(!0,{},l[s]),p().validPositions[s].input=u.input,delete p().validPositions[o],o++):y(s,u.match.def)?S(s,u.input||E(o),!0)!==!1&&(delete p().validPositions[o],o++,c=!0):O(o)||(o++,s--),s++}}d(!0)}function g(e,t){for(var n,i=e,r=f(),o=p().validPositions[r]||k(0)[0],s=void 0!==o.alternation?o.locator[o.alternation].toString().split(","):[],l=0;l<i.length&&(n=i[l],!(n.match&&(a.greedy&&n.match.optionalQuantifier!==!0||(n.match.optionality===!1||n.match.newBlockMarker===!1)&&n.match.optionalQuantifier!==!0)&&(void 0===o.alternation||o.alternation!==n.alternation||void 0!==n.locator[o.alternation]&&_(n.locator[o.alternation].toString().split(","),s)))||t===!0&&(null!==n.match.fn||/[0-9a-bA-Z]/.test(n.match.def)));l++);return n}function m(e,t,n){return p().validPositions[e]||g(k(e,t?t.slice():t,n))}function v(e){return p().validPositions[e]?p().validPositions[e]:k(e)[0]}function y(e,t){for(var n=!1,i=k(e),r=0;r<i.length;r++)if(i[r].match&&i[r].match.def===t){n=!0;break}return n}function k(t,n,i){function r(n,i,o,l){function u(o,l,g){function m(t,n){var i=0===e.inArray(t,n.matches);return i||e.each(n.matches,function(e,r){if(r.isQuantifier===!0&&(i=m(t,n.matches[e-1])))return!1}),i}function v(t,n,i){var r,a;return(p().tests[t]||p().validPositions[t])&&e.each(p().tests[t]||[p().validPositions[t]],function(e,t){var o=void 0!==i?i:t.alternation,s=void 0!==t.locator[o]?t.locator[o].toString().indexOf(n):-1;(void 0===a||s<a)&&s!==-1&&(r=t,a=s)}),r?r.locator.slice((void 0!==i?i:r.alternation)+1):void 0!==i?v(t,n):void 0}if(c>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+p().mask;if(c===t&&void 0===o.matches)return d.push({match:o,locator:l.reverse(),cd:h}),!0;if(void 0!==o.matches){if(o.isGroup&&g!==o){if(o=u(n.matches[e.inArray(o,n.matches)+1],l))return!0}else if(o.isOptional){var y=o;if(o=r(o,i,l,g)){if(s=d[d.length-1].match,!m(s,y))return!0;f=!0,c=t}}else if(o.isAlternator){var k,b=o,x=[],w=d.slice(),C=l.length,_=i.length>0?i.shift():-1;if(_===-1||"string"==typeof _){var S,O=c,P=i.slice(),$=[];if("string"==typeof _)$=_.split(",");else for(S=0;S<b.matches.length;S++)$.push(S);for(var A=0;A<$.length;A++){if(S=parseInt($[A]),d=[],i=v(c,S,C)||P.slice(),(o=u(b.matches[S]||n.matches[S],[S].concat(l),g)||o)!==!0&&void 0!==o&&$[$.length-1]<b.matches.length){var I=e.inArray(o,n.matches)+1;n.matches.length>I&&(o=u(n.matches[I],[I].concat(l.slice(1,l.length)),g))&&($.push(I.toString()),e.each(d,function(e,t){t.alternation=l.length-1}))}k=d.slice(),c=O,d=[];for(var E=0;E<k.length;E++){var D=k[E],F=!1;D.alternation=D.alternation||C;for(var j=0;j<x.length;j++){var R=x[j];if(("string"!=typeof _||e.inArray(D.locator[D.alternation].toString(),$)!==-1)&&(D.match.def===R.match.def||function(e,n){return null===e.match.fn&&null!==n.match.fn&&n.match.fn.test(e.match.def,p(),t,!1,a,!1)}(D,R))){F=D.match.nativeDef===R.match.nativeDef,D.alternation==R.alternation&&R.locator[R.alternation].toString().indexOf(D.locator[D.alternation])===-1&&(R.locator[R.alternation]=R.locator[R.alternation]+","+D.locator[D.alternation],R.alternation=D.alternation,null==D.match.fn&&(R.na=R.na||D.locator[D.alternation].toString(),R.na.indexOf(D.locator[D.alternation])===-1&&(R.na=R.na+","+D.locator[D.alternation])));break}}F||x.push(D)}}"string"==typeof _&&(x=e.map(x,function(t,n){if(isFinite(n)){var i=t.alternation,r=t.locator[i].toString().split(",");t.locator[i]=void 0,t.alternation=void 0;for(var a=0;a<r.length;a++)e.inArray(r[a],$)!==-1&&(void 0!==t.locator[i]?(t.locator[i]+=",",t.locator[i]+=r[a]):t.locator[i]=parseInt(r[a]),t.alternation=i);if(void 0!==t.locator[i])return t}})),d=w.concat(x),c=t,f=d.length>0,i=P.slice()}else o=u(b.matches[_]||n.matches[_],[_].concat(l),g);if(o)return!0}else if(o.isQuantifier&&g!==n.matches[e.inArray(o,n.matches)-1])for(var M=o,T=i.length>0?i.shift():0;T<(isNaN(M.quantifier.max)?T+1:M.quantifier.max)&&c<=t;T++){var N=n.matches[e.inArray(M,n.matches)-1];if(o=u(N,[T].concat(l),N)){if(s=d[d.length-1].match,s.optionalQuantifier=T>M.quantifier.min-1,m(s,N)){if(T>M.quantifier.min-1){f=!0,c=t;break}return!0}return!0}}else if(o=r(o,i,l,g))return!0}else c++}for(var g=i.length>0?i.shift():0;g<n.matches.length;g++)if(n.matches[g].isQuantifier!==!0){var m=u(n.matches[g],[g].concat(o),l);if(m&&c===t)return m;if(c>t)break}}function o(e){return a.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&e[0].match.optionality!==!0&&e[0].match.optionalQuantifier!==!0&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)?[g(e)]:e}var s,l=p().maskToken,c=n?i:0,u=n?n.slice():[0],d=[],f=!1,h=n?n.join(""):"";if(t>-1){if(void 0===n){for(var m,v=t-1;void 0===(m=p().validPositions[v]||p().tests[v])&&v>-1;)v--;void 0!==m&&v>-1&&(u=function(t){var n=[];return e.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation?(n=g(t.slice()).locator.slice(),0===n.length&&(n=t[0].locator.slice())):e.each(t,function(e,t){if(""!==t.def)if(0===n.length)n=t.locator.slice();else for(var i=0;i<n.length;i++)t.locator[i]&&n[i].toString().indexOf(t.locator[i])===-1&&(n[i]+=","+t.locator[i])})),n}(m),h=u.join(""),c=v)}if(p().tests[t]&&p().tests[t][0].cd===h)return o(p().tests[t]);for(var y=u.shift();y<l.length;y++){if(r(l[y],u,[y])&&c===t||c>t)break}}return(0===d.length||f)&&d.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:h}),void 0!==n&&p().tests[t]?o(e.extend(!0,[],d)):(p().tests[t]=e.extend(!0,[],d),o(p().tests[t]))}function b(){return void 0===p()._buffer&&(p()._buffer=u(!1,1),void 0===p().buffer&&p()._buffer.slice()),p()._buffer}function x(e){return void 0!==p().buffer&&e!==!0||(p().buffer=u(!0,f(),!0)),p().buffer}function w(e,t,n){var i;if(e===!0)d(),e=0,t=n.length;else for(i=e;i<t;i++)delete p().validPositions[i];for(i=e;i<t;i++)d(!0),n[i]!==a.skipOptionalPartCharacter&&S(i,n[i],!0,!0)}function C(e,n,i){switch(a.casing||n.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var r=p().validPositions[i-1];e=0===i||r&&r.input===String.fromCharCode(t.keyCode.SPACE)?e.toUpperCase():e.toLowerCase()}return e}function _(t,n){for(var i=a.greedy?n:n.slice(0,1),r=!1,o=0;o<t.length;o++)if(e.inArray(t[o],i)!==-1){r=!0;break}return r}function S(n,i,r,o,s){function l(e){var t=U?e.begin-e.end>1||e.begin-e.end==1&&a.insertMode:e.end-e.begin>1||e.end-e.begin==1&&a.insertMode;return t&&0===e.begin&&e.end===p().maskLength?"full":t}function c(t,i,r){var s=!1;return e.each(k(t),function(c,g){for(var m=g.match,v=i?1:0,y="",k=m.cardinality;k>v;k--)y+=A(t-(k-1));if(i&&(y+=i),x(!0),(s=null!=m.fn?m.fn.test(y,p(),t,r,a,l(n)):(i===m.def||i===a.skipOptionalPartCharacter)&&""!==m.def&&{c:m.placeholder||m.def,pos:t})!==!1){var b=void 0!==s.c?s.c:i;b=b===a.skipOptionalPartCharacter&&null===m.fn?m.placeholder||m.def:b;var _=t,O=x();if(void 0!==s.remove&&(e.isArray(s.remove)||(s.remove=[s.remove]),e.each(s.remove.sort(function(e,t){return t-e}),function(e,t){h(t,t+1,!0)})),void 0!==s.insert&&(e.isArray(s.insert)||(s.insert=[s.insert]),e.each(s.insert.sort(function(e,t){return e-t}),function(e,t){S(t.pos,t.c,!0,o)})),s.refreshFromBuffer){var P=s.refreshFromBuffer;if(r=!0,w(P===!0?P:P.start,P.end,O),void 0===s.pos&&void 0===s.c)return s.pos=f(),!1;if((_=void 0!==s.pos?s.pos:t)!==t)return s=e.extend(s,S(_,b,!0,o)),!1}else if(s!==!0&&void 0!==s.pos&&s.pos!==t&&(_=s.pos,w(t,_,x().slice()),_!==t))return s=e.extend(s,S(_,b,!0)),!1;return(s===!0||void 0!==s.pos||void 0!==s.c)&&(c>0&&d(!0),u(_,e.extend({},g,{input:C(b,m,_)}),o,l(n))||(s=!1),!1)}}),s}function u(t,n,i,r){if(r||a.insertMode&&void 0!==p().validPositions[t]&&void 0===i){var o,s=e.extend(!0,{},p().validPositions),l=f(void 0,!0);for(o=t;o<=l;o++)delete p().validPositions[o];p().validPositions[t]=e.extend(!0,{},n);var c,u=!0,h=p().validPositions,g=!1,m=p().maskLength;for(o=c=t;o<=l;o++){var k=s[o];if(void 0!==k)for(var b=c;b<p().maskLength&&(null===k.match.fn&&h[o]&&(h[o].match.optionalQuantifier===!0||h[o].match.optionality===!0)||null!=k.match.fn);){if(b++,g===!1&&s[b]&&s[b].match.def===k.match.def)p().validPositions[b]=e.extend(!0,{},s[b]),p().validPositions[b].input=k.input,v(b),c=b,u=!0;else if(y(b,k.match.def)){var x=S(b,k.input,!0,!0);u=x!==!1,c=x.caret||x.insert?f():b,g=!0}else u=k.generatedInput===!0;if(p().maskLength<m&&(p().maskLength=m),u)break}if(!u)break}if(!u)return p().validPositions=e.extend(!0,{},s),d(!0),!1}else p().validPositions[t]=e.extend(!0,{},n);return d(!0),!0}function v(t){for(var n=t-1;n>-1&&!p().validPositions[n];n--);var i,r;for(n++;n<t;n++)void 0===p().validPositions[n]&&(a.jitMasking===!1||a.jitMasking>n)&&(r=k(n,m(n-1).locator,n-1).slice(),""===r[r.length-1].match.def&&r.pop(),(i=g(r))&&(i.match.def===a.radixPointDefinitionSymbol||!O(n,!0)||e.inArray(a.radixPoint,x())<n&&i.match.fn&&i.match.fn.test(E(n),p(),n,!1,a))&&($=c(n,i.match.placeholder||(null==i.match.fn?i.match.def:""!==E(n)?E(n):x()[n]),!0))!==!1&&(p().validPositions[$.pos||n].generatedInput=!0))}r=r===!0;var b=n;void 0!==n.begin&&(b=U&&!l(n)?n.end:n.begin);var $=!1,I=e.extend(!0,{},p().validPositions);if(v(b),l(n)&&(N(void 0,t.keyCode.DELETE,n),b=p().p),b<p().maskLength&&($=c(b,i,r),(!r||o===!0)&&$===!1)){var D=p().validPositions[b];if(!D||null!==D.match.fn||D.match.def!==i&&i!==a.skipOptionalPartCharacter){if((a.insertMode||void 0===p().validPositions[P(b)])&&!O(b,!0)){var F=k(b).slice();""===F[F.length-1].match.def&&F.pop();var j=g(F,!0);j&&null===j.match.fn&&(j=j.match.placeholder||j.match.def,c(b,j,r),p().validPositions[b].generatedInput=!0);for(var R=b+1,M=P(b);R<=M;R++)if(($=c(R,i,r))!==!1){(function(t,n){var i=p().validPositions[n];if(i)for(var r=i.locator,a=r.length,o=t;o<n;o++)if(void 0===p().validPositions[o]&&!O(o,!0)){var s=k(o),l=s[0],c=-1;e.each(s,function(e,t){for(var n=0;n<a&&void 0!==t.locator[n]&&_(t.locator[n].toString().split(","),r[n].toString().split(","));n++)c<n&&(c=n,l=t)}),u(o,e.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}})(b,void 0!==$.pos?$.pos:R),b=R;break}}}else $={caret:P(b)}}return $===!1&&a.keepStatic&&!r&&s!==!0&&($=function(t,n,i){var r,s,l,c,u,h,g,m,v=e.extend(!0,{},p().validPositions),y=!1,b=f();for(c=p().validPositions[b];b>=0;b--)if((l=p().validPositions[b])&&void 0!==l.alternation){if(r=b,s=p().validPositions[r].alternation,c.locator[l.alternation]!==l.locator[l.alternation])break;c=l}if(void 0!==s){m=parseInt(r);var x=void 0!==c.locator[c.alternation||s]?c.locator[c.alternation||s]:g[0];x.length>0&&(x=x.split(",")[0]);var w=p().validPositions[m],C=p().validPositions[m-1];e.each(k(m,C?C.locator:void 0,m-1),function(r,l){g=l.locator[s]?l.locator[s].toString().split(","):[];for(var c=0;c<g.length;c++){var k=[],b=0,C=0,_=!1;if(x<g[c]&&(void 0===l.na||e.inArray(g[c],l.na.split(","))===-1)){p().validPositions[m]=e.extend(!0,{},l);var O=p().validPositions[m].locator;for(p().validPositions[m].locator[s]=parseInt(g[c]),null==l.match.fn?(w.input!==l.match.def&&(_=!0,w.generatedInput!==!0&&k.push(w.input)),C++,p().validPositions[m].generatedInput=!/[0-9a-bA-Z]/.test(l.match.def),p().validPositions[m].input=l.match.def):p().validPositions[m].input=w.input,u=m+1;u<f(void 0,!0)+1;u++)h=p().validPositions[u],h&&h.generatedInput!==!0&&/[0-9a-bA-Z]/.test(h.input)?k.push(h.input):u<t&&b++,delete p().validPositions[u];for(_&&k[0]===l.match.def&&k.shift(),d(!0),y=!0;k.length>0;){var P=k.shift();if(P!==a.skipOptionalPartCharacter&&!(y=S(f(void 0,!0)+1,P,!1,o,!0)))break}if(y){p().validPositions[m].locator=O;var $=f(t)+1;for(u=m+1;u<f()+1;u++)(void 0===(h=p().validPositions[u])||null==h.match.fn)&&u<t+(C-b)&&C++;t+=C-b,y=S(t>$?$:t,n,i,o,!0)}if(y)return!1;d(),p().validPositions=e.extend(!0,{},v)}}})}return y}(b,i,r)),$===!0&&($={pos:b}),e.isFunction(a.postValidation)&&$!==!1&&!r&&o!==!0&&($=!!a.postValidation(x(!0),$,a)&&$),void 0===$.pos&&($.pos=b),$===!1&&(d(!0),p().validPositions=e.extend(!0,{},I)),$}function O(e,t){var n;if(t?(n=m(e).match,""===n.def&&(n=v(e).match)):n=v(e).match,null!=n.fn)return n.fn;if(t!==!0&&e>-1){var i=k(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function P(e,t){var n=p().maskLength;if(e>=n)return n;for(var i=e;++i<n&&(t===!0&&(v(i).match.newBlockMarker!==!0||!O(i))||t!==!0&&!O(i)););return i}function $(e,t){var n,i=e;if(i<=0)return 0;for(;--i>0&&(t===!0&&v(i).match.newBlockMarker!==!0||t!==!0&&!O(i)&&(n=k(i),n.length<2||2===n.length&&""===n[1].match.def)););return i}function A(e){return void 0===p().validPositions[e]?E(e):p().validPositions[e].input}function I(t,n,i,r,o){if(r&&e.isFunction(a.onBeforeWrite)){var s=a.onBeforeWrite(r,n,i,a);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;w(l===!0?l:l.start,l.end,s.buffer||n),n=x(!0)}void 0!==i&&(i=void 0!==s.caret?s.caret:i)}}t.inputmask._valueSet(n.join("")),void 0===i||void 0!==r&&"blur"===r.type?z(t,n,i):j(t,i),o===!0&&(W=!0,e(t).trigger("input"))}function E(e,t){if(t=t||v(e).match,void 0!==t.placeholder)return t.placeholder;if(null===t.fn){if(e>-1&&void 0===p().validPositions[e]){var n,i=k(e),r=[];if(i.length>1+(""===i[i.length-1].match.def?1:0))for(var o=0;o<i.length;o++)if(i[o].match.optionality!==!0&&i[o].match.optionalQuantifier!==!0&&(null===i[o].match.fn||void 0===n||i[o].match.fn.test(n.match.def,p(),e,!0,a)!==!1)&&(r.push(i[o]),null===i[o].match.fn&&(n=i[o]),r.length>1&&/[0-9a-bA-Z]/.test(r[0].match.def)))return a.placeholder.charAt(e%a.placeholder.length)}return t.def}return a.placeholder.charAt(e%a.placeholder.length)}function D(n,i,r,o,s,l){function c(){var e=!1,t=b().slice(g,P(g)).join("").indexOf(h);if(t!==-1&&!O(g)){e=!0;for(var n=b().slice(g,g+t),i=0;i<n.length;i++)if(" "!==n[i]){e=!1;break}}return e}var u=o.slice(),h="",g=0,v=void 0;if(d(),p().p=P(-1),!r)if(a.autoUnmask!==!0){var y=b().slice(0,P(-1)).join(""),k=u.join("").match(new RegExp("^"+t.escapeRegex(y),"g"));k&&k.length>0&&(u.splice(0,k.length*y.length),g=P(g))}else g=P(g);if(e.each(u,function(t,i){if(void 0!==i){var o=new e.Event("keypress");o.which=i.charCodeAt(0),h+=i;var s=f(void 0,!0),l=p().validPositions[s],u=m(s+1,l?l.locator.slice():void 0,s);if(!c()||r||a.autoUnmask){var y=r?t:null==u.match.fn&&u.match.optionality&&s+1<p().p?s+1:p().p;v=X.keypressEvent.call(n,o,!0,!1,r,y),g=y+1,h=""}else v=X.keypressEvent.call(n,o,!0,!1,!0,s+1);if(!r&&e.isFunction(a.onBeforeWrite)&&(v=a.onBeforeWrite(o,x(),v.forwardPosition,a))&&v.refreshFromBuffer){var k=v.refreshFromBuffer;w(k===!0?k:k.start,k.end,v.buffer),d(!0),v.caret&&(p().p=v.caret)}}}),i){var C=void 0,_=f();document.activeElement===n&&(s||v)&&(C=j(n).begin,s&&v===!1&&(C=P(f(C))),v&&l!==!0&&(C<_+1||_===-1)&&(C=a.numericInput&&void 0===v.caret?$(v.forwardPosition):v.forwardPosition)),I(n,x(),C,s||new e.Event("checkval"))}}function F(t){if(t&&void 0===t.inputmask)return t.value;var n=[],i=p().validPositions;for(var r in i)i[r].match&&null!=i[r].match.fn&&n.push(i[r].input);var o=0===n.length?"":(U?n.reverse():n).join("");if(e.isFunction(a.onUnMask)){var s=(U?x().slice().reverse():x()).join("");o=a.onUnMask(s,o,a)||o}return o}function j(e,t,n,i){function r(e){if(i!==!0&&U&&"number"==typeof e&&(!a.greedy||""!==a.placeholder)){e=x().join("").length-e}return e}var s;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,n=e.selectionEnd):window.getSelection?(s=window.getSelection().getRangeAt(0),s.commonAncestorContainer.parentNode!==e&&s.commonAncestorContainer!==e||(t=s.startOffset,n=s.endOffset)):document.selection&&document.selection.createRange&&(s=document.selection.createRange(),t=0-s.duplicate().moveStart("character",-e.inputmask._valueGet().length),n=t+s.text.length),{begin:r(t),end:r(n)};t=r(t),n=r(n),n="number"==typeof n?n:t;var l=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*n;if(e.scrollLeft=l>e.scrollWidth?l:0,o||a.insertMode!==!1||t!==n||n++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=n;else if(window.getSelection){if(s=document.createRange(),void 0===e.firstChild||null===e.firstChild){var c=document.createTextNode("");e.appendChild(c)}s.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),s.setEnd(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),s.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(s)}else e.createTextRange&&(s=e.createTextRange(),s.collapse(!0),s.moveEnd("character",n),s.moveStart("character",t),s.select());z(e,void 0,{begin:t,end:n})}function R(t){var n,i,r=x(),a=r.length,o=f(),s={},l=p().validPositions[o],c=void 0!==l?l.locator.slice():void 0;for(n=o+1;n<r.length;n++)i=m(n,c,n-1),c=i.locator.slice(),s[n]=e.extend(!0,{},i);var u=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(n=a-1;n>o&&(i=s[n],(i.match.optionality||i.match.optionalQuantifier||u&&(u!==s[n].locator[l.alternation]&&null!=i.match.fn||null===i.match.fn&&i.locator[l.alternation]&&_(i.locator[l.alternation].toString().split(","),u.toString().split(","))&&""!==k(n)[0].def))&&r[n]===E(n,i.match));n--)a--;return t?{l:a,def:s[a]?s[a].match:void 0}:a}function M(e){for(var t=R(),n=e.length-1;n>t&&!O(n);n--);return e.splice(t,n+1-t),e}function T(t){if(e.isFunction(a.isComplete))return a.isComplete(t,a);if("*"!==a.repeat){var n=!1,i=R(!0),r=$(i.l);if(void 0===i.def||i.def.newBlockMarker||i.def.optionality||i.def.optionalQuantifier){n=!0;for(var o=0;o<=r;o++){var s=m(o).match;if(null!==s.fn&&void 0===p().validPositions[o]&&s.optionality!==!0&&s.optionalQuantifier!==!0||null===s.fn&&t[o]!==E(o,s)){n=!1;break}}}return n}}function N(n,i,r,o){if((a.numericInput||U)&&(i===t.keyCode.BACKSPACE?i=t.keyCode.DELETE:i===t.keyCode.DELETE&&(i=t.keyCode.BACKSPACE),U)){var s=r.end;r.end=r.begin,r.begin=s}i===t.keyCode.BACKSPACE&&(r.end-r.begin<1||a.insertMode===!1)?(r.begin=$(r.begin),void 0===p().validPositions[r.begin]||p().validPositions[r.begin].input!==a.groupSeparator&&p().validPositions[r.begin].input!==a.radixPoint||r.begin--):i===t.keyCode.DELETE&&r.begin===r.end&&(r.end=O(r.end,!0)?r.end+1:P(r.end)+1,void 0===p().validPositions[r.begin]||p().validPositions[r.begin].input!==a.groupSeparator&&p().validPositions[r.begin].input!==a.radixPoint||r.end++),h(r.begin,r.end,!1,o),o!==!0&&function(){if(a.keepStatic){for(var t=[],i=f(-1,!0),r=e.extend(!0,{},p().validPositions),o=p().validPositions[i];i>=0;i--){var s=p().validPositions[i];if(s){if(s.generatedInput!==!0&&/[0-9a-bA-Z]/.test(s.input)&&t.push(s.input),delete p().validPositions[i],void 0!==s.alternation&&s.locator[s.alternation]!==o.locator[s.alternation])break;o=s}}if(i>-1)for(p().p=P(f(-1,!0));t.length>0;){var l=new e.Event("keypress");l.which=t.pop().charCodeAt(0),X.keypressEvent.call(n,l,!0,!1,!1,p().p)}else p().validPositions=e.extend(!0,{},r)}}();var l=f(r.begin,!0);l<r.begin?p().p=P(l):o!==!0&&(p().p=r.begin)}function L(t){function n(e){var n,i=document.createElement("span");for(var r in o)isNaN(r)&&r.indexOf("font")!==-1&&(i.style[r]=o[r]);i.style.textTransform=o.textTransform,i.style.letterSpacing=o.letterSpacing,i.style.position="absolute",i.style.height="auto",i.style.width="auto",i.style.visibility="hidden",i.style.whiteSpace="nowrap",document.body.appendChild(i);var a,s=t.inputmask._valueGet(),l=0;for(n=0,a=s.length;n<=a;n++){if(i.innerHTML+=s.charAt(n)||"_",i.offsetWidth>=e){var c=e-l,u=i.offsetWidth-e;i.innerHTML=s.charAt(n),c-=i.offsetWidth/3,n=c<u?n-1:n;break}l=i.offsetWidth}return document.body.removeChild(i),n}function i(){K.style.position="absolute",K.style.top=r.top+"px",K.style.left=r.left+"px",K.style.width=parseInt(t.offsetWidth)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth)+"px",K.style.height=parseInt(t.offsetHeight)-parseInt(o.paddingTop)-parseInt(o.paddingBottom)-parseInt(o.borderTopWidth)-parseInt(o.borderBottomWidth)+"px",K.style.lineHeight=K.style.height,K.style.zIndex=isNaN(o.zIndex)?-1:o.zIndex-1,K.style.webkitAppearance="textfield",K.style.mozAppearance="textfield",K.style.Appearance="textfield"}var r=e(t).position(),o=(t.ownerDocument.defaultView||window).getComputedStyle(t,null);t.parentNode,K=document.createElement("div"),document.body.appendChild(K);for(var s in o)isNaN(s)&&"cssText"!==s&&s.indexOf("webkit")==-1&&(K.style[s]=o[s]);t.style.backgroundColor="transparent",t.style.color="transparent",t.style.webkitAppearance="caret",t.style.mozAppearance="caret",t.style.Appearance="caret",i(),e(window).on("resize",function(n){r=e(t).position(),o=(t.ownerDocument.defaultView||window).getComputedStyle(t,null),i()}),e(t).on("click",function(e){return j(t,n(e.clientX)),X.clickEvent.call(this,[e])}),e(t).on("keydown",function(e){e.shiftKey||a.insertMode===!1||setTimeout(function(){z(t)},0)})}function z(e,t,n){function i(){o||null!==l.fn&&void 0!==c.input?o&&null!==l.fn&&void 0!==c.input&&(o=!1,r+="</span>"):(o=!0,r+="<span class='im-static''>")}if(void 0!==K){t=t||x(),void 0===n?n=j(e):void 0===n.begin&&(n={begin:n,end:n});var r="",o=!1;if(""!=t){var s,l,c,u=0,d=f();do{u===n.begin&&document.activeElement===e&&(r+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>"),p().validPositions[u]?(c=p().validPositions[u],l=c.match,s=c.locator.slice(),i(),r+=c.input):(c=m(u,s,u-1),l=c.match,s=c.locator.slice(),(a.jitMasking===!1||u<d||"number"==typeof a.jitMasking&&isFinite(a.jitMasking)&&a.jitMasking>u)&&(i(),r+=E(u,l))),u++}while((void 0===H||u<H)&&(null!==l.fn||""!==l.def)||d>u)}K.innerHTML=r}}i=i||this.maskset,a=a||this.opts;var G,B,H,K,q,V=this.el,U=this.isRTL,Q=!1,W=!1,Z=!1,Y=!1,J={on:function(n,i,r){var o=function(n){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var i=e.data(this,"_inputmask_opts");i?new t(i).mask(this):J.off(this)}else{if("setvalue"===n.type||!(this.disabled||this.readOnly&&!("keydown"===n.type&&n.ctrlKey&&67===n.keyCode||a.tabThrough===!1&&n.keyCode===t.keyCode.TAB))){switch(n.type){case"input":if(W===!0)return W=!1,n.preventDefault();break;case"keydown":Q=!1,W=!1;break;case"keypress":if(Q===!0)return n.preventDefault();Q=!0;break;case"click":if(s||l){var o=this,c=arguments;return setTimeout(function(){r.apply(o,c)},0),!1}}var u=r.apply(this,arguments);return u===!1&&(n.preventDefault(),n.stopPropagation()),u}n.preventDefault()}};n.inputmask.events[i]=n.inputmask.events[i]||[],n.inputmask.events[i].push(o),e.inArray(i,["submit","reset"])!==-1?null!=n.form&&e(n.form).on(i,o):e(n).on(i,o)},off:function(t,n){if(t.inputmask&&t.inputmask.events){var i;n?(i=[],i[n]=t.inputmask.events[n]):i=t.inputmask.events,e.each(i,function(n,i){for(;i.length>0;){var r=i.pop();e.inArray(n,["submit","reset"])!==-1?null!=t.form&&e(t.form).off(n,r):e(t).off(n,r)}delete t.inputmask.events[n]})}}},X={keydownEvent:function(n){var i=this,r=e(i),o=n.keyCode,s=j(i);if(o===t.keyCode.BACKSPACE||o===t.keyCode.DELETE||l&&o===t.keyCode.BACKSPACE_SAFARI||n.ctrlKey&&o===t.keyCode.X&&!function(e){var t=document.createElement("input"),n="on"+e,i=n in t;return i||(t.setAttribute(n,"return;"),i="function"==typeof t[n]),t=null,i}("cut"))n.preventDefault(),N(i,o,s),I(i,x(!0),p().p,n,i.inputmask._valueGet()!==x().join("")),i.inputmask._valueGet()===b().join("")?r.trigger("cleared"):T(x())===!0&&r.trigger("complete");else if(o===t.keyCode.END||o===t.keyCode.PAGE_DOWN){n.preventDefault();var c=P(f());a.insertMode||c!==p().maskLength||n.shiftKey||c--,j(i,n.shiftKey?s.begin:c,c,!0)}else o===t.keyCode.HOME&&!n.shiftKey||o===t.keyCode.PAGE_UP?(n.preventDefault(),j(i,0,n.shiftKey?s.begin:0,!0)):(a.undoOnEscape&&o===t.keyCode.ESCAPE||90===o&&n.ctrlKey)&&n.altKey!==!0?(D(i,!0,!1,G.split("")),r.trigger("click")):o!==t.keyCode.INSERT||n.shiftKey||n.ctrlKey?a.tabThrough===!0&&o===t.keyCode.TAB?(n.shiftKey===!0?(null===v(s.begin).match.fn&&(s.begin=P(s.begin)),s.end=$(s.begin,!0),s.begin=$(s.end,!0)):(s.begin=P(s.begin,!0),s.end=P(s.begin,!0),s.end<p().maskLength&&s.end--),s.begin<p().maskLength&&(n.preventDefault(),j(i,s.begin,s.end))):n.shiftKey||a.insertMode===!1&&(o===t.keyCode.RIGHT?setTimeout(function(){j(i,j(i).begin)},0):o===t.keyCode.LEFT&&setTimeout(function(){var e=j(i);j(i,U?e.begin+1:e.begin-1)},0)):(a.insertMode=!a.insertMode,j(i,a.insertMode||s.begin!==p().maskLength?s.begin:s.begin-1));a.onKeyDown.call(this,n,x(),j(i).begin,a),Z=e.inArray(o,a.ignorables)!==-1},keypressEvent:function(n,i,r,o,s){var l=this,c=e(l),u=n.which||n.charCode||n.keyCode;if(!(i===!0||n.ctrlKey&&n.altKey)&&(n.ctrlKey||n.metaKey||Z))return u===t.keyCode.ENTER&&G!==x().join("")&&(G=x().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(u){46===u&&n.shiftKey===!1&&","===a.radixPoint&&(u=44);var f,h=i?{begin:s,end:s}:j(l),g=String.fromCharCode(u);p().writeOutBuffer=!0;var m=S(h,g,o);if(m!==!1&&(d(!0),f=void 0!==m.caret?m.caret:i?m.pos+1:P(m.pos),p().p=f),r!==!1){var v=this;if(setTimeout(function(){a.onKeyValidation.call(v,u,m,a)},0),p().writeOutBuffer&&m!==!1){var y=x();I(l,y,a.numericInput&&void 0===m.caret?$(f):f,n,i!==!0),i!==!0&&setTimeout(function(){T(y)===!0&&c.trigger("complete")},0)}}if(n.preventDefault(),i)return m.forwardPosition=f,m}},pasteEvent:function(t){var n,i=this,r=t.originalEvent||t,o=e(i),s=i.inputmask._valueGet(!0),l=j(i);U&&(n=l.end,l.end=l.begin,l.begin=n);var c=s.substr(0,l.begin),u=s.substr(l.end,s.length);if(c===(U?b().reverse():b()).slice(0,l.begin).join("")&&(c=""),u===(U?b().reverse():b()).slice(l.end).join("")&&(u=""),U&&(n=c,c=u,u=n),window.clipboardData&&window.clipboardData.getData)s=c+window.clipboardData.getData("Text")+u;else{if(!r.clipboardData||!r.clipboardData.getData)return!0;s=c+r.clipboardData.getData("text/plain")+u}var p=s;if(e.isFunction(a.onBeforePaste)){if((p=a.onBeforePaste(s,a))===!1)return t.preventDefault();p||(p=s)}return D(i,!1,!1,U?p.split("").reverse():p.toString().split("")),I(i,x(),P(f()),t,G!==x().join("")),T(x())===!0&&o.trigger("complete"),t.preventDefault()},inputFallBackEvent:function(n){var i=this,r=i.inputmask._valueGet();if(x().join("")!==r){var a=j(i);if(r=r.replace(new RegExp("("+t.escapeRegex(b().join(""))+")*"),""),s){var o=r.replace(x().join(""),"");if(1===o.length){var l=new e.Event("keypress");return l.which=o.charCodeAt(0),X.keypressEvent.call(i,l,!0,!0,!1,p().validPositions[a.begin-1]?a.begin:a.begin-1),!1}}if(a.begin>r.length&&(j(i,r.length),a=j(i)),x().length-r.length!=1||r.charAt(a.begin)===x()[a.begin]||r.charAt(a.begin+1)===x()[a.begin]||O(a.begin)){for(var c=f()+1,u=b().join("");null===r.match(t.escapeRegex(u)+"$");)u=u.slice(1);r=r.replace(u,""),r=r.split(""),D(i,!0,!1,r,n,a.begin<c),T(x())===!0&&e(i).trigger("complete")}else n.keyCode=t.keyCode.BACKSPACE,X.keydownEvent.call(i,n);n.preventDefault()}},setValueEvent:function(t){var n=this,i=n.inputmask._valueGet();D(n,!0,!1,(e.isFunction(a.onBeforeMask)?a.onBeforeMask(i,a)||i:i).split("")),G=x().join(""),(a.clearMaskOnLostFocus||a.clearIncomplete)&&n.inputmask._valueGet()===b().join("")&&n.inputmask._valueSet("")},focusEvent:function(e){var t=this,n=t.inputmask._valueGet();a.showMaskOnFocus&&(!a.showMaskOnHover||a.showMaskOnHover&&""===n)&&(t.inputmask._valueGet()!==x().join("")?I(t,x(),P(f())):Y===!1&&j(t,P(f()))),a.positionCaretOnTab===!0&&X.clickEvent.apply(t,[e,!0]),G=x().join("")},mouseleaveEvent:function(e){var t=this;if(Y=!1,a.clearMaskOnLostFocus&&document.activeElement!==t){var n=x().slice(),i=t.inputmask._valueGet();i!==t.getAttribute("placeholder")&&""!==i&&(f()===-1&&i===b().join("")?n=[]:M(n),I(t,n))}},clickEvent:function(t,n){function i(t){if(""!==a.radixPoint){var n=p().validPositions;if(void 0===n[t]||n[t].input===E(t)){if(t<P(-1))return!0;var i=e.inArray(a.radixPoint,x());if(i!==-1){for(var r in n)if(i<r&&n[r].input!==E(r))return!1;return!0}}}return!1}var r=this;setTimeout(function(){if(document.activeElement===r){var t=j(r);if(n&&(t.begin=t.end),t.begin===t.end)switch(a.positionCaretOnClick){case"none":break;case"radixFocus":if(i(t.begin)){var o=e.inArray(a.radixPoint,x().join(""));j(r,a.numericInput?P(o):o);break}default:var s=t.begin,l=f(s,!0),c=P(l);if(s<c)j(r,O(s)||O(s-1)?s:P(s));else{var u=E(c);(""!==u&&x()[c]!==u&&v(c).match.optionalQuantifier!==!0||!O(c)&&v(c).match.def===u)&&(c=P(c)),j(r,c)}}}},0)},dblclickEvent:function(e){var t=this;setTimeout(function(){j(t,0,P(f()))},0)},cutEvent:function(n){var i=this,r=e(i),a=j(i),o=n.originalEvent||n,s=window.clipboardData||o.clipboardData,l=U?x().slice(a.end,a.begin):x().slice(a.begin,a.end)
;s.setData("text",U?l.reverse().join(""):l.join("")),document.execCommand&&document.execCommand("copy"),N(i,t.keyCode.DELETE,a),I(i,x(),p().p,n,G!==x().join("")),i.inputmask._valueGet()===b().join("")&&r.trigger("cleared")},blurEvent:function(t){var n=e(this),i=this;if(i.inputmask){var r=i.inputmask._valueGet(),o=x().slice();G!==o.join("")&&setTimeout(function(){n.trigger("change"),G=o.join("")},0),""!==r&&(a.clearMaskOnLostFocus&&(f()===-1&&r===b().join("")?o=[]:M(o)),T(o)===!1&&(setTimeout(function(){n.trigger("incomplete")},0),a.clearIncomplete&&(d(),o=a.clearMaskOnLostFocus?[]:b().slice())),I(i,o,void 0,t))}},mouseenterEvent:function(e){var t=this;Y=!0,document.activeElement!==t&&a.showMaskOnHover&&t.inputmask._valueGet()!==x().join("")&&I(t,x())},submitEvent:function(e){G!==x().join("")&&B.trigger("change"),a.clearMaskOnLostFocus&&f()===-1&&V.inputmask._valueGet&&V.inputmask._valueGet()===b().join("")&&V.inputmask._valueSet(""),a.removeMaskOnSubmit&&(V.inputmask._valueSet(V.inputmask.unmaskedvalue(),!0),setTimeout(function(){I(V,x())},0))},resetEvent:function(e){setTimeout(function(){B.trigger("setvalue")},0)}};if(void 0!==n)switch(n.action){case"isComplete":return V=n.el,T(x());case"unmaskedvalue":return void 0!==V&&void 0===n.value||(q=n.value,q=(e.isFunction(a.onBeforeMask)?a.onBeforeMask(q,a)||q:q).split(""),D(void 0,!1,!1,U?q.reverse():q),e.isFunction(a.onBeforeWrite)&&a.onBeforeWrite(void 0,x(),0,a)),F(V);case"mask":!function(t){var n=function(t,n){var i=t.getAttribute("type"),r="INPUT"===t.tagName&&e.inArray(i,n.supportsInputType)!==-1||t.isContentEditable||"TEXTAREA"===t.tagName;if(!r)if("INPUT"===t.tagName){var a=document.createElement("input");a.setAttribute("type",i),r="text"===a.type,a=null}else r="partial";return r!==!1&&function(t){function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():f()!==-1||n.nullable!==!0?document.activeElement===this&&n.clearMaskOnLostFocus?(U?M(x().slice()).reverse():M(x().slice())).join(""):a.call(this):"":a.call(this)}function r(t){o.call(this,t),this.inputmask&&e(this).trigger("setvalue")}var a,o;if(!t.inputmask.__valueGet){if(n.noValuePatching!==!0){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var s=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;s&&s.get&&s.set?(a=s.get,o=s.set,Object.defineProperty(t,"value",{get:i,set:r,configurable:!0})):"INPUT"!==t.tagName&&(a=function(){return this.textContent},o=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:i,set:r,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(a=t.__lookupGetter__("value"),o=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",r));t.inputmask.__valueGet=a,t.inputmask.__valueSet=o}t.inputmask._valueGet=function(e){return U&&e!==!0?a.call(this.el).split("").reverse().join(""):a.call(this.el)},t.inputmask._valueSet=function(e,t){o.call(this.el,null===e||void 0===e?"":t!==!0&&U?e.split("").reverse().join(""):e)},void 0===a&&(a=function(){return this.value},o=function(e){this.value=e},function(t){if(e.valHooks&&(void 0===e.valHooks[t]||e.valHooks[t].inputmaskpatch!==!0)){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},r=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=i(e);return f(void 0,void 0,e.inputmask.maskset.validPositions)!==-1||n.nullable!==!0?t:""}return i(e)},set:function(t,n){var i,a=e(t);return i=r(t,n),t.inputmask&&a.trigger("setvalue"),i},inputmaskpatch:!0}}}(t.type),function(t){J.on(t,"mouseenter",function(t){var n=e(this);this.inputmask._valueGet()!==x().join("")&&n.trigger("setvalue")})}(t))}}(t),r}(t,a);if(n!==!1&&(V=t,B=e(V),("rtl"===V.dir||a.rightAlign)&&(V.style.textAlign="right"),("rtl"===V.dir||a.numericInput)&&(V.dir="ltr",V.removeAttribute("dir"),V.inputmask.isRTL=!0,U=!0),a.colorMask===!0&&L(V),c&&(V.hasOwnProperty("inputmode")&&(V.inputmode=a.inputmode,V.setAttribute("inputmode",a.inputmode)),"rtfm"===a.androidHack&&(a.colorMask!==!0&&L(V),V.type="password")),J.off(V),n===!0&&(J.on(V,"submit",X.submitEvent),J.on(V,"reset",X.resetEvent),J.on(V,"mouseenter",X.mouseenterEvent),J.on(V,"blur",X.blurEvent),J.on(V,"focus",X.focusEvent),J.on(V,"mouseleave",X.mouseleaveEvent),a.colorMask!==!0&&J.on(V,"click",X.clickEvent),J.on(V,"dblclick",X.dblclickEvent),J.on(V,"paste",X.pasteEvent),J.on(V,"dragdrop",X.pasteEvent),J.on(V,"drop",X.pasteEvent),J.on(V,"cut",X.cutEvent),J.on(V,"complete",a.oncomplete),J.on(V,"incomplete",a.onincomplete),J.on(V,"cleared",a.oncleared),a.inputEventOnly!==!0&&(J.on(V,"keydown",X.keydownEvent),J.on(V,"keypress",X.keypressEvent)),J.on(V,"compositionstart",e.noop),J.on(V,"compositionupdate",e.noop),J.on(V,"compositionend",e.noop),J.on(V,"keyup",e.noop),J.on(V,"input",X.inputFallBackEvent)),J.on(V,"setvalue",X.setValueEvent),b(),""!==V.inputmask._valueGet()||a.clearMaskOnLostFocus===!1||document.activeElement===V)){D(V,!0,!1,(e.isFunction(a.onBeforeMask)?a.onBeforeMask(V.inputmask._valueGet(),a)||V.inputmask._valueGet():V.inputmask._valueGet()).split(""));var i=x().slice();G=i.join(""),T(i)===!1&&a.clearIncomplete&&d(),a.clearMaskOnLostFocus&&document.activeElement!==V&&(f()===-1?i=[]:M(i)),I(V,i),document.activeElement===V&&j(V,P(f()))}}(V);break;case"format":return q=(e.isFunction(a.onBeforeMask)?a.onBeforeMask(n.value,a)||n.value:n.value).split(""),D(void 0,!1,!1,U?q.reverse():q),e.isFunction(a.onBeforeWrite)&&a.onBeforeWrite(void 0,x(),0,a),n.metadata?{value:U?x().slice().reverse().join(""):x().join(""),metadata:r.call(this,{action:"getmetadata"},i,a)}:U?x().slice().reverse().join(""):x().join("");case"isValid":n.value?(q=n.value.split(""),D(void 0,!1,!0,U?q.reverse():q)):n.value=x().join("");for(var ee=x(),te=R(),ne=ee.length-1;ne>te&&!O(ne);ne--);return ee.splice(te,ne+1-te),T(ee)&&n.value===x().join("");case"getemptymask":return b().join("");case"remove":if(V){B=e(V),V.inputmask._valueSet(F(V)),J.off(V);Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(V),"value")&&V.inputmask.__valueGet&&Object.defineProperty(V,"value",{get:V.inputmask.__valueGet,set:V.inputmask.__valueSet,configurable:!0}):document.__lookupGetter__&&V.__lookupGetter__("value")&&V.inputmask.__valueGet&&(V.__defineGetter__("value",V.inputmask.__valueGet),V.__defineSetter__("value",V.inputmask.__valueSet)),V.inputmask=void 0}return V;case"getmetadata":if(e.isArray(i.metadata)){var ie=u(!0,0,!1).join("");return e.each(i.metadata,function(e,t){if(t.mask===ie)return ie=t,!1}),ie}return i.metadata}}var a=navigator.userAgent,o=/mobile/i.test(a),s=/iemobile/i.test(a),l=/iphone/i.test(a)&&!s,c=/android/i.test(a)&&!s;t.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,n){return e.isFunction(n.onBeforeMask)?n.onBeforeMask(t,n):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:e.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1},masksCache:{},mask:function(a){function o(t,i,r,a){function o(e,n){null!==(n=void 0!==n?n:t.getAttribute(a+"-"+e))&&("string"==typeof n&&(0===e.indexOf("on")?n=window[n]:"false"===n?n=!1:"true"===n&&(n=!0)),r[e]=n)}var s,l,c,u,p=t.getAttribute(a);if(p&&""!==p&&(p=p.replace(new RegExp("'","g"),'"'),l=JSON.parse("{"+p+"}")),l){c=void 0;for(u in l)if("alias"===u.toLowerCase()){c=l[u];break}}o("alias",c),r.alias&&n(r.alias,r,i);for(s in i){if(l){c=void 0;for(u in l)if(u.toLowerCase()===s.toLowerCase()){c=l[u];break}}o(s,c)}return e.extend(!0,i,r),i}var s=this;return"string"==typeof a&&(a=document.getElementById(a)||document.querySelectorAll(a)),a=a.nodeName?[a]:a,e.each(a,function(n,a){var l=e.extend(!0,{},s.opts);o(a,l,e.extend(!0,{},s.userOptions),s.dataAttribute);var c=i(l,s.noMasksCache);void 0!==c&&(void 0!==a.inputmask&&a.inputmask.remove(),a.inputmask=new t,a.inputmask.opts=l,a.inputmask.noMasksCache=s.noMasksCache,a.inputmask.userOptions=e.extend(!0,{},s.userOptions),a.inputmask.el=a,a.inputmask.maskset=c,e.data(a,"_inputmask_opts",l),r.call(a.inputmask,{action:"mask"}))}),a&&a[0]?a[0].inputmask||this:this},option:function(t,n){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&n!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),r.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return r.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),r.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),r.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),r.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),r.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),r.call(this,{action:"format",value:e,metadata:t})},analyseMask:function(t,n){function i(e,t,n,i){this.matches=[],this.openGroup=e||!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function r(t,i,r){var a=n.definitions[i];r=void 0!==r?r:t.matches.length;var o=t.matches[r-1];if(a&&!m){a.placeholder=e.isFunction(a.placeholder)?a.placeholder(n):a.placeholder;for(var s=a.prevalidator,l=s?s.length:0,c=1;c<a.cardinality;c++){var u=l>=c?s[c-1]:[],p=u.validator,d=u.cardinality;t.matches.splice(r++,0,{fn:p?"string"==typeof p?new RegExp(p):new function(){this.test=p}:new RegExp("."),cardinality:d?d:1,optionality:t.isOptional,newBlockMarker:void 0===o||o.def!==(a.definitionSymbol||i),casing:a.casing,def:a.definitionSymbol||i,placeholder:a.placeholder,nativeDef:i}),o=t.matches[r-1]}t.matches.splice(r++,0,{fn:a.validator?"string"==typeof a.validator?new RegExp(a.validator):new function(){this.test=a.validator}:new RegExp("."),cardinality:a.cardinality,optionality:t.isOptional,newBlockMarker:void 0===o||o.def!==(a.definitionSymbol||i),casing:a.casing,def:a.definitionSymbol||i,placeholder:a.placeholder,nativeDef:i})}else t.matches.splice(r++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:void 0===o||o.def!==i,casing:null,def:n.staticDefinitionSymbol||i,placeholder:void 0!==n.staticDefinitionSymbol?i:void 0,nativeDef:i}),m=!1}function a(t){t&&t.matches&&e.each(t.matches,function(e,i){var o=t.matches[e+1];(void 0===o||void 0===o.matches||o.isQuantifier===!1)&&i&&i.isGroup&&(i.isGroup=!1,r(i,n.groupmarker.start,0),i.openGroup!==!0&&r(i,n.groupmarker.end)),a(i)})}function o(){if(y.length>0){if(p=y[y.length-1],r(p,c),p.isAlternator){d=y.pop();for(var e=0;e<d.matches.length;e++)d.matches[e].isGroup=!1;y.length>0?(p=y[y.length-1],p.matches.push(d)):v.matches.push(d)}}else r(v,c)}function s(e){e.matches=e.matches.reverse();for(var t in e.matches){var i=parseInt(t);if(e.matches[t].isQuantifier&&e.matches[i+1]&&e.matches[i+1].isGroup){var r=e.matches[t];e.matches.splice(t,1),e.matches.splice(i+1,0,r)}void 0!==e.matches[t].matches?e.matches[t]=s(e.matches[t]):e.matches[t]=function(e){return e===n.optionalmarker.start?e=n.optionalmarker.end:e===n.optionalmarker.end?e=n.optionalmarker.start:e===n.groupmarker.start?e=n.groupmarker.end:e===n.groupmarker.end&&(e=n.groupmarker.start),e}(e.matches[t])}return e}for(var l,c,u,p,d,f,h,g=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,m=!1,v=new i,y=[],k=[];l=g.exec(t);)if(c=l[0],m)o();else switch(c.charAt(0)){case n.escapeChar:m=!0;break;case n.optionalmarker.end:case n.groupmarker.end:if(u=y.pop(),u.openGroup=!1,void 0!==u)if(y.length>0){if(p=y[y.length-1],p.matches.push(u),p.isAlternator){d=y.pop();for(var b=0;b<d.matches.length;b++)d.matches[b].isGroup=!1;y.length>0?(p=y[y.length-1],p.matches.push(d)):v.matches.push(d)}}else v.matches.push(u);else o();break;case n.optionalmarker.start:y.push(new i(!1,!0));break;case n.groupmarker.start:y.push(new i(!0));break;case n.quantifiermarker.start:var x=new i(!1,!1,!0);c=c.replace(/[{}]/g,"");var w=c.split(","),C=isNaN(w[0])?w[0]:parseInt(w[0]),_=1===w.length?C:isNaN(w[1])?w[1]:parseInt(w[1]);if("*"!==_&&"+"!==_||(C="*"===_?0:1),x.quantifier={min:C,max:_},y.length>0){var S=y[y.length-1].matches;l=S.pop(),l.isGroup||(h=new i(!0),h.matches.push(l),l=h),S.push(l),S.push(x)}else l=v.matches.pop(),l.isGroup||(h=new i(!0),h.matches.push(l),l=h),v.matches.push(l),v.matches.push(x);break;case n.alternatormarker:y.length>0?(p=y[y.length-1],f=p.matches.pop()):f=v.matches.pop(),f.isAlternator?y.push(f):(d=new i(!1,!1,!1,!0),d.matches.push(f),y.push(d));break;default:o()}for(;y.length>0;)u=y.pop(),v.matches.push(u);return v.matches.length>0&&(a(v),k.push(v)),n.numericInput&&s(k[0]),k}},t.extendDefaults=function(n){e.extend(!0,t.prototype.defaults,n)},t.extendDefinitions=function(n){e.extend(!0,t.prototype.defaults.definitions,n)},t.extendAliases=function(n){e.extend(!0,t.prototype.defaults.aliases,n)},t.format=function(e,n,i){return t(n).format(e,i)},t.unmask=function(e,n){return t(n).unmaskedvalue(e)},t.isValid=function(e,n){return t(n).isValid(e)},t.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},t.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},window.Inputmask=t,t}(jQuery),function(e,t){void 0===e.fn.inputmask&&(e.fn.inputmask=function(n,i){var r,a=this[0];if(void 0===i&&(i={}),"string"==typeof n)switch(n){case"unmaskedvalue":return a&&a.inputmask?a.inputmask.unmaskedvalue():e(a).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return a&&a.inputmask?a.inputmask.getemptymask():"";case"hasMaskedValue":return!(!a||!a.inputmask)&&a.inputmask.hasMaskedValue();case"isComplete":return!a||!a.inputmask||a.inputmask.isComplete();case"getmetadata":return a&&a.inputmask?a.inputmask.getmetadata():void 0;case"setvalue":e(a).val(i),a&&void 0===a.inputmask&&e(a).triggerHandler("setvalue");break;case"option":if("string"!=typeof i)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(i)});if(a&&void 0!==a.inputmask)return a.inputmask.option(i);break;default:return i.alias=n,r=new t(i),this.each(function(){r.mask(this)})}else{if("object"==typeof n)return r=new t(n),void 0===n.mask&&void 0===n.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(n):void r.mask(this)}):this.each(function(){r.mask(this)});if(void 0===n)return this.each(function(){r=new t(i),r.mask(this)})}}),e.fn.inputmask}(jQuery,Inputmask),jQuery,Inputmask,function(e,t){function n(e){return isNaN(e)||29===new Date(e,2,0).getDate()}t.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+n+"[01])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+n+"(0[1-9]|1[012]))|(30"+n+"(0[13-9]|1[012]))|(31"+n+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,n){if(isNaN(e))return!1;var i=parseInt(e.concat(t.toString().slice(e.length))),r=parseInt(e.concat(n.toString().slice(e.length)));return!isNaN(i)&&t<=i&&i<=n||!isNaN(r)&&t<=r&&r<=n},determinebaseyear:function(e,t,n){var i=(new Date).getFullYear();if(e>i)return e;if(t<i){for(var r=t.toString().slice(0,2),a=t.toString().slice(2,4);t<r+n;)r--;var o=r+a;return e>o?e:o}if(e<=i&&i<=t){for(var s=i.toString().slice(0,2);t<s+n;)s--;var l=s+n;return l<e?e:l}return i},onKeyDown:function(n,i,r,a){var o=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var s=new Date;o.val(s.getDate().toString()+(s.getMonth()+1).toString()+s.getFullYear().toString()),o.trigger("setvalue")}},getFrontValue:function(e,t,n){for(var i=0,r=0,a=0;a<e.length&&"2"!==e.charAt(a);a++){var o=n.definitions[e.charAt(a)];o?(i+=r,r=o.cardinality):r++}return t.join("").substr(i,r)},postValidation:function(e,t,i){var r,a,o=e.join("");return 0===i.mask.indexOf("y")?(a=o.substr(0,4),r=o.substr(4,11)):(a=o.substr(6,11),r=o.substr(0,6)),t&&(r!==i.leapday||n(a))},definitions:{1:{validator:function(e,t,n,i,r){var a=r.regex.val1.test(e);return i||a||e.charAt(1)!==r.separator&&"-./".indexOf(e.charAt(1))===-1||!(a=r.regex.val1.test("0"+e.charAt(0)))?a:(t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,i,r){var a=e;isNaN(t.buffer[n+1])||(a+=t.buffer[n+1]);var o=1===a.length?r.regex.val1pre.test(a):r.regex.val1.test(a);if(!i&&!o){if(o=r.regex.val1.test(e+"0"))return t.buffer[n]=e,t.buffer[++n]="0",{pos:n,c:"0"};if(o=r.regex.val1.test("0"+e))return t.buffer[n]="0",n++,{pos:n}}return o},cardinality:1}]},2:{validator:function(e,t,n,i,r){var a=r.getFrontValue(t.mask,t.buffer,r);a.indexOf(r.placeholder[0])!==-1&&(a="01"+r.separator);var o=r.regex.val2(r.separator).test(a+e);return i||o||e.charAt(1)!==r.separator&&"-./".indexOf(e.charAt(1))===-1||!(o=r.regex.val2(r.separator).test(a+"0"+e.charAt(0)))?o:(t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,i,r){isNaN(t.buffer[n+1])||(e+=t.buffer[n+1]);var a=r.getFrontValue(t.mask,t.buffer,r);a.indexOf(r.placeholder[0])!==-1&&(a="01"+r.separator);var o=1===e.length?r.regex.val2pre(r.separator).test(a+e):r.regex.val2(r.separator).test(a+e);return i||o||!(o=r.regex.val2(r.separator).test(a+"0"+e))?o:(t.buffer[n]="0",n++,{pos:n})},cardinality:1}]},y:{validator:function(e,t,n,i,r){return r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear)},cardinality:4,prevalidator:[{validator:function(e,t,n,i,r){var a=r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear);if(!i&&!a){var o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e+"0").toString().slice(0,1);if(a=r.isInYearRange(o+e,r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[n++]=o.charAt(0),{pos:n};if(o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e+"0").toString().slice(0,2),a=r.isInYearRange(o+e,r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[n++]=o.charAt(0),t.buffer[n++]=o.charAt(1),{pos:n}}return a},cardinality:1},{validator:function(e,t,n,i,r){var a=r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear);if(!i&&!a){var o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e).toString().slice(0,2);if(a=r.isInYearRange(e[0]+o[1]+e[1],r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[n++]=o.charAt(1),{pos:n};if(o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e).toString().slice(0,2),a=r.isInYearRange(o+e,r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[n-1]=o.charAt(0),t.buffer[n++]=o.charAt(1),t.buffer[n++]=e.charAt(0),{refreshFromBuffer:{start:n-3,end:n},pos:n}}return a},cardinality:2},{validator:function(e,t,n,i,r){return r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(n,i,r,a){var o=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var s=new Date;o.val((s.getMonth()+1).toString()+s.getDate().toString()+s.getFullYear().toString()),o.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(n,i,r,a){var o=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var s=new Date;o.val(s.getFullYear().toString()+(s.getMonth()+1).toString()+s.getDate().toString()),o.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,n,i,r){if("24"===r.hourFormat&&24===parseInt(e,10))return t.buffer[n-1]="0",t.buffer[n]="0",{refreshFromBuffer:{start:n-1,end:n},c:"0"};var a=r.regex.hrs.test(e);if(!i&&!a&&(e.charAt(1)===r.timeseparator||"-.:".indexOf(e.charAt(1))!==-1)&&(a=r.regex.hrs.test("0"+e.charAt(0))))return t.buffer[n-1]="0",t.buffer[n]=e.charAt(0),n++,{refreshFromBuffer:{start:n-2,end:n},pos:n,c:r.timeseparator};if(a&&"24"!==r.hourFormat&&r.regex.hrs24.test(e)){var o=parseInt(e,10);return 24===o?(t.buffer[n+5]="a",t.buffer[n+6]="m"):(t.buffer[n+5]="p",t.buffer[n+6]="m"),o-=12,o<10?(t.buffer[n]=o.toString(),t.buffer[n-1]="0"):(t.buffer[n]=o.toString().charAt(1),t.buffer[n-1]=o.toString().charAt(0)),{refreshFromBuffer:{start:n-1,end:n+6},c:t.buffer[n]}}return a},cardinality:2,prevalidator:[{validator:function(e,t,n,i,r){var a=r.regex.hrspre.test(e);return i||a||!(a=r.regex.hrs.test("0"+e))?a:(t.buffer[n]="0",n++,{pos:n})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,n,i,r){var a=r.regex.mspre.test(e);return i||a||!(a=r.regex.ms.test("0"+e))?a:(t.buffer[n]="0",n++,{pos:n})},cardinality:1}]},t:{validator:function(e,t,n,i,r){return r.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(n,i,r,a){var o=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var s=new Date;o.val((s.getMonth()+1).toString()+s.getDate().toString()+s.getFullYear().toString()),o.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"[0-3])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+n+"30)|((0[1-6])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}}),t}(jQuery,Inputmask),function(e,t){t.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),t.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1,inputmode:"url"},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,n,i,r){return n-1>-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,e=n-2>-1&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}},onUnMask:function(e,t,n){return e},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(e,t){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(e,t,n){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),t}(jQuery,Inputmask),function(e,t){t.extendAliases({numeric:{mask:function(e){function n(t){for(var n="",i=0;i<t.length;i++)n+=e.definitions[t.charAt(i)]||e.optionalmarker.start===t.charAt(i)||e.optionalmarker.end===t.charAt(i)||e.quantifiermarker.start===t.charAt(i)||e.quantifiermarker.end===t.charAt(i)||e.groupmarker.start===t.charAt(i)||e.groupmarker.end===t.charAt(i)||e.alternatormarker===t.charAt(i)?"\\"+t.charAt(i):t.charAt(i);return n}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var i=Math.floor(e.integerDigits/e.groupSize),r=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===r?i-1:i),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&e.integerOptional===!1&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",e.numericInput===!0&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var a="[+]";if(a+=n(e.prefix),a+=e.integerOptional===!0?"~{1,"+e.integerDigits+"}":"~{"+e.integerDigits+"}",void 0!==e.digits){e.decimalProtect&&(e.radixPointDefinitionSymbol=":");var o=e.digits.toString().split(",");isFinite(o[0]&&o[1]&&isFinite(o[1]))?a+=(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(a+=e.digitsOptional?"["+(e.decimalProtect?":":e.radixPoint)+";{1,"+e.digits+"}]":(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}")}return a+=n(e.suffix),a+="[-]",e.greedy=!1,null!==e.min&&(e.min=e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,"."))),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,"."))),a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",postFormat:function(n,i,r){r.numericInput===!0&&(n=n.reverse(),isFinite(i)&&(i=n.join("").length-i-1));var a,o;i=i>=n.length?n.length-1:i<0?0:i;var s=n[i],l=n.slice();s===r.groupSeparator&&(l.splice(i--,1),s=l[i]);var c=l.join("").match(new RegExp("^"+t.escapeRegex(r.negationSymbol.front)));c=null!==c&&1===c.length,i>(c?r.negationSymbol.front.length:0)+r.prefix.length&&i<l.length-r.suffix.length&&(l[i]="!");var u=l.join(""),p=l.join();if(c&&(u=u.replace(new RegExp("^"+t.escapeRegex(r.negationSymbol.front)),""),u=u.replace(new RegExp(t.escapeRegex(r.negationSymbol.back)+"$"),"")),u=u.replace(new RegExp(t.escapeRegex(r.suffix)+"$"),""),u=u.replace(new RegExp("^"+t.escapeRegex(r.prefix)),""),u.length>0&&r.autoGroup||u.indexOf(r.groupSeparator)!==-1){var d=t.escapeRegex(r.groupSeparator);u=u.replace(new RegExp(d,"g"),"");var f=u.split(s===r.radixPoint?"!":r.radixPoint);if(u=""===r.radixPoint?u:f[0],s!==r.negationSymbol.front&&(u=u.replace("!","?")),u.length>r.groupSize)for(var h=new RegExp("([-+]?[\\d?]+)([\\d?]{"+r.groupSize+"})");h.test(u)&&""!==r.groupSeparator;)u=u.replace(h,"$1"+r.groupSeparator+"$2"),u=u.replace(r.groupSeparator+r.groupSeparator,r.groupSeparator);u=u.replace("?","!"),""!==r.radixPoint&&f.length>1&&(u+=(s===r.radixPoint?"!":r.radixPoint)+f[1])}u=r.prefix+u+r.suffix,c&&(u=r.negationSymbol.front+u+r.negationSymbol.back);var g=p!==u.split("").join(),m=e.inArray("!",u);if(m===-1&&(m=i),g){for(n.length=u.length,a=0,o=u.length;a<o;a++)n[a]=u.charAt(a);n[m]=s}return m=r.numericInput&&isFinite(i)?n.join("").length-m-1:m,r.numericInput&&(n=n.reverse(),e.inArray(r.radixPoint,n)<m&&n.join("").length-r.suffix.length!==m&&(m-=1)),{pos:m,refreshFromBuffer:g,buffer:n,isNegative:c}},onBeforeWrite:function(n,i,r,a){var o;if(n&&("blur"===n.type||"checkval"===n.type||"keydown"===n.type)){var s=a.numericInput?i.slice().reverse().join(""):i.join(""),l=s.replace(a.prefix,"");l=l.replace(a.suffix,""),
l=l.replace(new RegExp(t.escapeRegex(a.groupSeparator),"g"),""),","===a.radixPoint&&(l=l.replace(a.radixPoint,"."));var c=l.match(new RegExp("[-"+t.escapeRegex(a.negationSymbol.front)+"]","g"));if(c=null!==c&&1===c.length,l=l.replace(new RegExp("[-"+t.escapeRegex(a.negationSymbol.front)+"]","g"),""),l=l.replace(new RegExp(t.escapeRegex(a.negationSymbol.back)+"$"),""),isNaN(a.placeholder)&&(l=l.replace(new RegExp(t.escapeRegex(a.placeholder),"g"),"")),""!==(l=l===a.negationSymbol.front?l+"0":l)&&isFinite(l)){var u=parseFloat(l),p=c?u*-1:u;if(null!==a.min&&isFinite(a.min)&&p<parseFloat(a.min)?(u=Math.abs(a.min),c=a.min<0,s=void 0):null!==a.max&&isFinite(a.max)&&p>parseFloat(a.max)&&(u=Math.abs(a.max),c=a.max<0,s=void 0),l=u.toString().replace(".",a.radixPoint).split(""),isFinite(a.digits)){var d=e.inArray(a.radixPoint,l),f=e.inArray(a.radixPoint,s);d===-1&&(l.push(a.radixPoint),d=l.length-1);for(var h=1;h<=a.digits;h++)a.digitsOptional||void 0!==l[d+h]&&l[d+h]!==a.placeholder.charAt(0)?f!==-1&&void 0!==s[f+h]&&(l[d+h]=l[d+h]||s[f+h]):l[d+h]="0";l[l.length-1]===a.radixPoint&&delete l[l.length-1]}if(u.toString()!==l&&u.toString()+"."!==l||c)return l=(a.prefix+l.join("")).split(""),!c||0===u&&"blur"===n.type||(l.unshift(a.negationSymbol.front),l.push(a.negationSymbol.back)),a.numericInput&&(l=l.reverse()),o=a.postFormat(l,a.numericInput?r:r-1,a),o.buffer&&(o.refreshFromBuffer=o.buffer.join("")!==i.join("")),o}}if(a.autoGroup)return o=a.postFormat(i,a.numericInput?r:r-1,a),o.caret=r<(o.isNegative?a.negationSymbol.front.length:0)+a.prefix.length||r>o.buffer.length-(o.isNegative?a.negationSymbol.back.length:0)?o.pos:o.pos+1,o},regex:{integerPart:function(e){return new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},signHandler:function(e,t,n,i,r){if(!i&&r.allowMinus&&"-"===e||r.allowPlus&&"+"===e){var a=t.buffer.join("").match(r.regex.integerPart(r));if(a&&a[0].length>0)return t.buffer[a.index]===("-"===e?"+":r.negationSymbol.front)?"-"===e?""!==r.negationSymbol.back?{pos:0,c:r.negationSymbol.front,remove:0,caret:n,insert:{pos:t.buffer.length-1,c:r.negationSymbol.back}}:{pos:0,c:r.negationSymbol.front,remove:0,caret:n}:""!==r.negationSymbol.back?{pos:0,c:"+",remove:[0,t.buffer.length-1],caret:n}:{pos:0,c:"+",remove:0,caret:n}:t.buffer[0]===("-"===e?r.negationSymbol.front:"+")?"-"===e&&""!==r.negationSymbol.back?{remove:[0,t.buffer.length-1],caret:n-1}:{remove:0,caret:n-1}:"-"===e?""!==r.negationSymbol.back?{pos:0,c:r.negationSymbol.front,caret:n+1,insert:{pos:t.buffer.length,c:r.negationSymbol.back}}:{pos:0,c:r.negationSymbol.front,caret:n+1}:{pos:0,c:e,caret:n+1}}return!1},radixHandler:function(t,n,i,r,a){if(!r&&a.numericInput!==!0&&t===a.radixPoint&&void 0!==a.digits&&(isNaN(a.digits)||parseInt(a.digits)>0)){var o=e.inArray(a.radixPoint,n.buffer),s=n.buffer.join("").match(a.regex.integerPart(a));if(o!==-1&&n.validPositions[o])return n.validPositions[o-1]?{caret:o+1}:{pos:s.index,c:s[0],caret:o+1};if(!s||"0"===s[0]&&s.index+1!==i)return n.buffer[s?s.index:i]="0",{pos:(s?s.index:i)+1,c:a.radixPoint}}return!1},leadingZeroHandler:function(t,n,i,r,a,o){if(!r){var s=n.buffer.slice("");if(s.splice(0,a.prefix.length),s.splice(s.length-a.suffix.length,a.suffix.length),a.numericInput===!0){var s=s.reverse();if("0"===s[0]&&void 0===n.validPositions[i-1])return{pos:i,remove:s.length-1}}else{i-=a.prefix.length;var l=e.inArray(a.radixPoint,s),c=s.slice(0,l!==-1?l:void 0).join("").match(a.regex.integerNPart(a));if(c&&(l===-1||i<=l)){var u=l===-1?0:parseInt(s.slice(l+1).join(""));if(0===c[0].indexOf(""!==a.placeholder?a.placeholder.charAt(0):"0")&&(c.index+1===i||o!==!0&&0===u))return n.buffer.splice(c.index+a.prefix.length,1),{pos:c.index+a.prefix.length,remove:c.index+a.prefix.length};if("0"===t&&i<=c.index&&c[0]!==a.groupSeparator)return!1}}}return!0},definitions:{"~":{validator:function(n,i,r,a,o,s){var l=o.signHandler(n,i,r,a,o);if(!l&&!(l=o.radixHandler(n,i,r,a,o))&&(l=a?new RegExp("[0-9"+t.escapeRegex(o.groupSeparator)+"]").test(n):new RegExp("[0-9]").test(n))===!0&&(l=o.leadingZeroHandler(n,i,r,a,o,s))===!0){var c=e.inArray(o.radixPoint,i.buffer);l=c!==-1&&(o.digitsOptional===!1||i.validPositions[r])&&o.numericInput!==!0&&r>c&&!a?{pos:r,remove:r}:{pos:r}}return l},cardinality:1},"+":{validator:function(e,t,n,i,r){var a=r.signHandler(e,t,n,i,r);return!a&&(i&&r.allowMinus&&e===r.negationSymbol.front||r.allowMinus&&"-"===e||r.allowPlus&&"+"===e)&&(a=!(!i&&"-"===e)||(""!==r.negationSymbol.back?{pos:n,c:"-"===e?r.negationSymbol.front:"+",caret:n+1,insert:{pos:t.buffer.length,c:r.negationSymbol.back}}:{pos:n,c:"-"===e?r.negationSymbol.front:"+",caret:n+1})),a},cardinality:1,placeholder:""},"-":{validator:function(e,t,n,i,r){var a=r.signHandler(e,t,n,i,r);return!a&&i&&r.allowMinus&&e===r.negationSymbol.back&&(a=!0),a},cardinality:1,placeholder:""},":":{validator:function(e,n,i,r,a){var o=a.signHandler(e,n,i,r,a);if(!o){var s="["+t.escapeRegex(a.radixPoint)+"]";(o=new RegExp(s).test(e))&&n.validPositions[i]&&n.validPositions[i].match.placeholder===a.radixPoint&&(o={caret:i+1})}return o},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,n,i){if(""===n&&i.nullable===!0)return n;var r=e.replace(i.prefix,"");return r=r.replace(i.suffix,""),r=r.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),""),i.unmaskAsNumber?(""!==i.radixPoint&&r.indexOf(i.radixPoint)!==-1&&(r=r.replace(t.escapeRegex.call(this,i.radixPoint),".")),Number(r)):r},isComplete:function(e,n){var i=e.join(""),r=e.slice();if(n.postFormat(r,0,n),r.join("")!==i)return!1;var a=i.replace(n.prefix,"");return a=a.replace(n.suffix,""),a=a.replace(new RegExp(t.escapeRegex(n.groupSeparator),"g"),""),","===n.radixPoint&&(a=a.replace(t.escapeRegex(n.radixPoint),".")),isFinite(a)},onBeforeMask:function(e,n){if(n.numericInput===!0&&(e=e.split("").reverse().join("")),""!==n.radixPoint&&isFinite(e)){var i=e.split("."),r=""!==n.groupSeparator?parseInt(n.groupSize):0;2===i.length&&(i[0].length>r||i[1].length>r)&&(e=e.toString().replace(".",n.radixPoint))}var a=e.match(/,/g),o=e.match(/\./g);if(o&&a?o.length>a.length?(e=e.replace(/\./g,""),e=e.replace(",",n.radixPoint)):a.length>o.length?(e=e.replace(/,/g,""),e=e.replace(".",n.radixPoint)):e=e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e=e.replace(/,/g,""):e=e.replace(new RegExp(t.escapeRegex(n.groupSeparator),"g"),""),0===n.digits&&(e.indexOf(".")!==-1?e=e.substring(0,e.indexOf(".")):e.indexOf(",")!==-1&&(e=e.substring(0,e.indexOf(",")))),""!==n.radixPoint&&isFinite(n.digits)&&e.indexOf(n.radixPoint)!==-1){var s=e.split(n.radixPoint),l=s[1].match(new RegExp("\\d*"))[0];if(parseInt(n.digits)<l.toString().length){var c=Math.pow(10,parseInt(n.digits));e=e.replace(t.escapeRegex(n.radixPoint),"."),e=Math.round(parseFloat(e)*c)/c,e=e.toString().replace(".",n.radixPoint)}}return n.numericInput===!0&&(e=e.split("").reverse().join("")),e.toString()},canClearPosition:function(e,t,n,i,r){var a=e.validPositions[t].input;return a!==r.radixPoint||null!==e.validPositions[t].match.fn&&r.decimalProtect===!1||isFinite(a)||t===n||a===r.groupSeparator||a===r.negationSymbol.front||a===r.negationSymbol.back},onKeyDown:function(n,i,r,a){var o=e(this);if(n.ctrlKey)switch(n.keyCode){case t.keyCode.UP:o.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(a.step)),o.trigger("setvalue");break;case t.keyCode.DOWN:o.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(a.step)),o.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}}),t}(jQuery,Inputmask),function(e,t){function n(e,t){var n=(e.mask||e).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),i=(t.mask||t).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),r=(e.mask||e).split("#")[0],a=(t.mask||t).split("#")[0];return 0===a.indexOf(r)?-1:0===r.indexOf(a)?1:n.localeCompare(i)}var i=t.prototype.analyseMask;t.prototype.analyseMask=function(t,n){function r(e,n,i){n=n||"",i=i||o,""!==n&&(i[n]={});for(var a="",s=i[n]||i,l=e.length-1;l>=0;l--)t=e[l].mask||e[l],a=t.substr(0,1),s[a]=s[a]||[],s[a].unshift(t.substr(1)),e.splice(l,1);for(var c in s)s[c].length>500&&r(s[c].slice(),c,s)}function a(t){var i="",r=[];for(var o in t)e.isArray(t[o])?1===t[o].length?r.push(o+t[o]):r.push(o+n.groupmarker.start+t[o].join(n.groupmarker.end+n.alternatormarker+n.groupmarker.start)+n.groupmarker.end):r.push(o+a(t[o]));return i+=1===r.length?r[0]:n.groupmarker.start+r.join(n.groupmarker.end+n.alternatormarker+n.groupmarker.start)+n.groupmarker.end}var o={};return n.phoneCodes&&n.phoneCodes.length>1e3&&(t=t.substr(1,t.length-2),r(t.split(n.groupmarker.end+n.alternatormarker+n.groupmarker.start)),t=a(o)),i.call(this,t,n)},t.extendAliases({abstractphone:{groupmarker:{start:"<",end:">"},countrycode:"",phoneCodes:[],mask:function(e){return e.definitions={"#":e.definitions[9]},e.phoneCodes.sort(n)},keepStatic:!0,onBeforeMask:function(e,t){var n=e.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(n.indexOf(t.countrycode)>1||n.indexOf(t.countrycode)===-1)&&(n="+"+t.countrycode+n),n},onUnMask:function(e,t,n){return t},inputmode:"tel"}}),t}(jQuery,Inputmask),function(e,t){t.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex).test(e.join(""))},definitions:{r:{validator:function(t,n,i,r,a){function o(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function s(t,n){var i=!1;n&&(p+="(",f++);for(var r=0;r<t.matches.length;r++){var a=t.matches[r];if(a.isGroup===!0)i=s(a,!0);else if(a.isQuantifier===!0){var o=e.inArray(a,t.matches),c=t.matches[o-1],u=p;if(isNaN(a.quantifier.max)){for(;a.repeaterPart&&a.repeaterPart!==p&&a.repeaterPart.length>p.length&&!(i=s(c,!0)););i=i||s(c,!0),i&&(a.repeaterPart=p),p=u+a.quantifier.max}else{for(var d=0,h=a.quantifier.max-1;d<h&&!(i=s(c,!0));d++);p=u+"{"+a.quantifier.min+","+a.quantifier.max+"}"}}else if(void 0!==a.matches)for(var g=0;g<a.length&&!(i=s(a[g],n));g++);else{var m;if("["==a.charAt(0)){m=p,m+=a;for(var v=0;v<f;v++)m+=")";var y=new RegExp("^("+m+")$");i=y.test(l)}else for(var k=0,b=a.length;k<b;k++)if("\\"!==a.charAt(k)){m=p,m+=a.substr(0,k+1),m=m.replace(/\|$/,"");for(var v=0;v<f;v++)m+=")";var y=new RegExp("^("+m+")$");if(i=y.test(l))break}p+=a}if(i)break}return n&&(p+=")",f--),i}var l,c,u=n.buffer.slice(),p="",d=!1,f=0;null===a.regexTokens&&function(){var e,t,n=new o,i=[];for(a.regexTokens=[];e=a.tokenizer.exec(a.regex);)switch(t=e[0],t.charAt(0)){case"(":i.push(new o(!0));break;case")":c=i.pop(),i.length>0?i[i.length-1].matches.push(c):n.matches.push(c);break;case"{":case"+":case"*":var r=new o(!1,!0);t=t.replace(/[{}]/g,"");var s=t.split(","),l=isNaN(s[0])?s[0]:parseInt(s[0]),u=1===s.length?l:isNaN(s[1])?s[1]:parseInt(s[1]);if(r.quantifier={min:l,max:u},i.length>0){var p=i[i.length-1].matches;e=p.pop(),e.isGroup||(c=new o(!0),c.matches.push(e),e=c),p.push(e),p.push(r)}else e=n.matches.pop(),e.isGroup||(c=new o(!0),c.matches.push(e),e=c),n.matches.push(e),n.matches.push(r);break;default:i.length>0?i[i.length-1].matches.push(t):n.matches.push(t)}n.matches.length>0&&a.regexTokens.push(n)}(),u.splice(i,0,t),l=u.join("");for(var h=0;h<a.regexTokens.length;h++){var g=a.regexTokens[h];if(d=s(g,g.isGroup))break}return d},cardinality:1}}}}),t}(jQuery,Inputmask),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=r(String(e||"").toLowerCase()))||!e.length)return[];var t,n,i,o,l=[],c=e.split(/ +/);for(t=0,n=c.length;t<n;t++){if(i=a(c[t]),this.settings.diacritics)for(o in s)s.hasOwnProperty(o)&&(i=i.replace(new RegExp(o,"g"),s[o]));l.push({string:c[t],regex:new RegExp(i,"i")})}return l},e.prototype.iterator=function(e,t){var n;n=o(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,r,a,o,s;n=this,e=n.prepareSearch(e,t),a=e.tokens,r=e.options.fields,o=a.length,s=e.options.nesting;var l=function(e,t){var n,i;return e?(e=String(e||""),(i=e.search(t.regex))===-1?0:(n=t.string.length/e.length,0===i&&(n+=.5),n)):0},c=function(){var e=r.length;return e?1===e?function(e,t){return l(i(t,r[0],s),e)}:function(t,n){for(var a=0,o=0;a<e;a++)o+=l(i(n,r[a],s),t);return o/e}:function(){return 0}}();return o?1===o?function(e){return c(a[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;n<o;n++){if((t=c(a[n],e))<=0)return 0;i+=t}return i/o}:function(e){for(var t=0,n=0;t<o;t++)n+=c(a[t],e);return n/o}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var r,a,o,s,l,c,u,p,d,f,h;if(o=this,e=o.prepareSearch(e,n),h=!e.query&&n.sort_empty||n.sort,d=function(e,t){return"$score"===e?t.score:i(o.items[t.id],e,n.nesting)},l=[],h)for(r=0,a=h.length;r<a;r++)(e.query||"$score"!==h[r].field)&&l.push(h[r]);if(e.query){for(f=!0,r=0,a=l.length;r<a;r++)if("$score"===l[r].field){f=!1;break}f&&l.unshift({field:"$score",direction:"desc"})}else for(r=0,a=l.length;r<a;r++)if("$score"===l[r].field){l.splice(r,1);break}for(p=[],r=0,a=l.length;r<a;r++)p.push("desc"===l[r].direction?-1:1);return c=l.length,c?1===c?(s=l[0].field,u=p[0],function(e,n){return u*t(d(s,e),d(s,n))}):function(e,n){var i,r,a;for(i=0;i<c;i++)if(a=l[i].field,r=p[i]*t(d(a,e),d(a,n)))return r;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=n({},t);var i=t.fields,r=t.sort,a=t.sort_empty;return i&&!o(i)&&(t.fields=[i]),r&&!o(r)&&(t.sort=[r]),a&&!o(a)&&(t.sort_empty=[a]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,i,r,a,o=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,a=t.score||o.getScoreFunction(i),e.length?o.iterator(o.items,function(e,r){n=a(e),(t.filter===!1||n>0)&&i.items.push({score:n,id:r})}):o.iterator(o.items,function(e,t){i.items.push({score:1,id:t})}),r=o.getSortFunction(i,t),r&&i.items.sort(r),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=l(String(e||"")),t=l(String(t||"")),e>t?1:t>e?-1:0)},n=function(e,t){var n,i,r,a;for(n=1,i=arguments.length;n<i;n++)if(a=arguments[n])for(r in a)a.hasOwnProperty(r)&&(e[r]=a[r]);return e},i=function(e,t,n){if(e&&t){if(!n)return e[t];for(var i=t.split(".");i.length&&(e=e[i.shift()]););return e}},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},a=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},l=function(){var e,t,n,i,r="",a={};for(n in s)if(s.hasOwnProperty(n))for(i=s[n].substring(2,s[n].length-1),r+=i,e=0,t=i.length;e<t;e++)a[i.charAt(e)]=n;var o=new RegExp("["+r+"]","g");return function(e){return e.replace(o,function(e){return a[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,r,a=this,o=[];if(a.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;n<i;n++)"string"==typeof e[n]?o.push(e[n]):(a.plugins.settings[e[n].name]=e[n].options,o.push(e[n].name));else if(e)for(r in e)e.hasOwnProperty(r)&&(a.plugins.settings[r]=e[r],o.push(r));for(;o.length;)a.require(o.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,r=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=r.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,n){"use strict";var i=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var r=e.data.search(n);if(r>=0&&e.data.length>0){var a=e.data.match(n),o=document.createElement("span");o.className="highlight";var s=e.splitText(r),l=(s.splitText(a[0].length),s.cloneNode(!0));o.appendChild(l),s.parentNode.replaceChild(o,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=i(e.childNodes[c]);return t};return e.each(function(){i(this)})}};e.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()};var r=function(){};r.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=r.prototype[t[n]]};var a=/Mac/.test(navigator.userAgent),o=a?91:17,s=a?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,c=function(e){return void 0!==e},u=function(e){return void 0===e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},p=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},d={};d.before=function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},d.after=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}};var f=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},h=function(e,t){var n;return function(){var i=this,r=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(i,r)},t)}},g=function(e,t,n){var i,r=e.trigger,a={};e.trigger=function(){var n=arguments[0];if(t.indexOf(n)===-1)return r.apply(e,arguments);a[n]=arguments},n.apply(e,[]),e.trigger=r;for(i in a)a.hasOwnProperty(i)&&r.apply(e,a[i])},m=function(e,t,n,i){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])})},v=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},y=function(e,t,n){var i,r,a={};if(n)for(i=0,r=n.length;i<r;i++)a[n[i]]=e.css(n[i]);else a=e.css();t.css(a)},k=function(t,n){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");y(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=i.width();return i.remove(),r},b=function(e){var t=null,n=function(n,i){var r,a,o,s,l,c,u,p;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||e.data("grow")!==!1)&&(r=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(a=n.keyCode,o=a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||32===a,46===a||8===a?(p=v(e[0]),p.length?r=r.substring(0,p.start)+r.substring(p.start+p.length):8===a&&p.start?r=r.substring(0,p.start-1)+r.substring(p.start+1):46===a&&void 0!==p.start&&(r=r.substring(0,p.start)+r.substring(p.start+1))):o&&(c=n.shiftKey,u=String.fromCharCode(n.keyCode),u=c?u.toUpperCase():u.toLowerCase(),r+=u)),s=e.attr("placeholder"),!r&&s&&(r=s),(l=k(r,e)+4)!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},x=function(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},w=function(n,i){var r,a,o,s,l=this;s=n[0],s.selectize=l;var c=window.getComputedStyle&&window.getComputedStyle(s,null);if(o=c?c.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction,o=o||n.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++w.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:h(l.onSearchChange,i.loadThrottle)}),l.sifter=new t(this.options,{diacritics:i.diacritics}),l.settings.options){for(r=0,a=l.settings.options.length;r<a;r++)l.registerOption(l.settings.options[r]);delete l.settings.options}if(l.settings.optgroups){for(r=0,a=l.settings.optgroups.length;r<a;r++)l.registerOptionGroup(l.settings.optgroups[r]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return r.mixin(w),void 0!==n?n.mixin(w):function(e,t){t||(t={});console.error("Selectize: "+e),t.explanation&&(console.group&&console.group(),console.error(t.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),e.extend(w.prototype,{setup:function(){var t,n,i,r,c,u,p,d,f,h,g=this,v=g.settings,y=g.eventNS,k=e(window),x=e(document),w=g.$input;if(p=g.settings.mode,d=w.attr("class")||"",t=e("<div>").addClass(v.wrapperClass).addClass(d).addClass(p),n=e("<div>").addClass(v.inputClass).addClass("items").appendTo(t),i=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",w.is(":disabled")?"-1":g.tabIndex),u=e(v.dropdownParent||t),r=e("<div>").addClass(v.dropdownClass).addClass(p).hide().appendTo(u),c=e("<div>").addClass(v.dropdownContentClass).appendTo(r),(h=w.attr("id"))&&(i.attr("id",h+"-selectized"),e("label[for='"+h+"']").attr("for",h+"-selectized")),g.settings.copyClassesToDropdown&&r.addClass(d),t.css({width:w[0].style.width}),g.plugins.names.length&&(f="plugin-"+g.plugins.names.join(" plugin-"),t.addClass(f),r.addClass(f)),(null===v.maxItems||v.maxItems>1)&&1===g.tagType&&w.attr("multiple","multiple"),g.settings.placeholder&&i.attr("placeholder",v.placeholder),!g.settings.splitOn&&g.settings.delimiter){var C=g.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");g.settings.splitOn=new RegExp("\\s*"+C+"+\\s*")}w.attr("autocorrect")&&i.attr("autocorrect",w.attr("autocorrect")),w.attr("autocapitalize")&&i.attr("autocapitalize",w.attr("autocapitalize")),g.$wrapper=t,g.$control=n,g.$control_input=i,g.$dropdown=r,g.$dropdown_content=c,r.on("mouseenter","[data-selectable]",function(){return g.onOptionHover.apply(g,arguments)}),r.on("mousedown click","[data-selectable]",function(){return g.onOptionSelect.apply(g,arguments)}),m(n,"mousedown","*:not(input)",function(){return g.onItemSelect.apply(g,arguments)}),b(i),n.on({mousedown:function(){return g.onMouseDown.apply(g,arguments)},click:function(){return g.onClick.apply(g,arguments)}}),i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return g.onKeyDown.apply(g,arguments)},keyup:function(){return g.onKeyUp.apply(g,arguments)},keypress:function(){return g.onKeyPress.apply(g,arguments)},resize:function(){g.positionDropdown.apply(g,[])},blur:function(){return g.onBlur.apply(g,arguments)},focus:function(){return g.ignoreBlur=!1,g.onFocus.apply(g,arguments)},paste:function(){return g.onPaste.apply(g,arguments)}}),x.on("keydown"+y,function(e){g.isCmdDown=e[a?"metaKey":"ctrlKey"],g.isCtrlDown=e[a?"altKey":"ctrlKey"],g.isShiftDown=e.shiftKey}),x.on("keyup"+y,function(e){e.keyCode===s&&(g.isCtrlDown=!1),16===e.keyCode&&(g.isShiftDown=!1),e.keyCode===o&&(g.isCmdDown=!1)}),x.on("mousedown"+y,function(e){if(g.isFocused){if(e.target===g.$dropdown[0]||e.target.parentNode===g.$dropdown[0])return!1;g.$control.has(e.target).length||e.target===g.$control[0]||g.blur(e.target)}}),k.on(["scroll"+y,"resize"+y].join(" "),function(){g.isOpen&&g.positionDropdown.apply(g,arguments)}),k.on("mousemove"+y,function(){g.ignoreHover=!1}),this.revertSettings={$children:w.children().detach(),tabindex:w.attr("tabindex")},w.attr("tabindex",-1).hide().after(g.$wrapper),e.isArray(v.items)&&(g.setValue(v.items),delete v.items),l&&w.on("invalid"+y,function(e){e.preventDefault(),g.isInvalid=!0,g.refreshState()}),g.updateOriginalInput(),g.refreshItems(),g.refreshState(),g.updatePlaceholder(),g.isSetup=!0,w.is(":disabled")&&g.disable(),g.on("change",this.onChange),w.data("selectize",g),w.addClass("selectized"),g.trigger("initialize"),v.preload===!0&&g.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,r={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},r,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented();e(t.target);if(n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;if(n.isFull()||n.isInputHidden||n.isLocked)return void t.preventDefault();n.settings.splitOn&&setTimeout(function(){var t=n.$control_input.val();if(t.match(n.settings.splitOn))for(var i=e.trim(t).split(n.settings.splitOn),r=0,a=i.length;r<a;r++)n.createItem(i[r])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target,this.$control_input[0],this);if(t.isLocked)return void(9!==e.keyCode&&e.preventDefault());switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case 8:case 46:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(a?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(i){n.apply(t,[e,i])})))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),t&&t.focus&&t.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},
onOptionSelect:function(t){var n,i,r=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),i=e(t.currentTarget),i.hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):void 0!==(n=i.attr("data-value"))&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(n),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&r.setActiveOption(r.getOption(n)))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){g(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,n){var i,r,a,o,s,l,c,u,p=this;if("single"!==p.settings.mode){if(t=e(t),!t.length)return e(p.$activeItems).removeClass("active"),p.$activeItems=[],void(p.isFocused&&p.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&p.isShiftDown&&p.$activeItems.length){for(u=p.$control.children(".active:last"),o=Array.prototype.indexOf.apply(p.$control[0].childNodes,[u[0]]),s=Array.prototype.indexOf.apply(p.$control[0].childNodes,[t[0]]),o>s&&(c=o,o=s,s=c),r=o;r<=s;r++)l=p.$control[0].childNodes[r],p.$activeItems.indexOf(l)===-1&&(e(l).addClass("active"),p.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&p.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(a=p.$activeItems.indexOf(t[0]),p.$activeItems.splice(a,1),t.removeClass("active")):p.$activeItems.push(t.addClass("active")[0]):(e(p.$activeItems).removeClass("active"),p.$activeItems=[t.addClass("active")[0]]);p.hideInput(),this.isFocused||p.focus()}},setActiveOption:function(t,n,i){var r,a,o,s,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,t=e(t),t.length&&(u.$activeOption=t.addClass("active"),!n&&c(n)||(r=u.$dropdown_content.height(),a=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,o=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,s=o,l=o-r+a,o+a>r+n?u.$dropdown_content.stop().animate({scrollTop:l},i?u.settings.scrollDuration:0):o<n&&u.$dropdown_content.stop().animate({scrollTop:s},i?u.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,i,r,a=this,o=a.settings,s=this.getSearchOptions();if(o.score&&"function"!=typeof(r=a.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==a.lastQuery?(a.lastQuery=t,i=a.sifter.search(t,e.extend(s,{score:r})),a.currentResults=i):i=e.extend(!0,{},a.currentResults),o.hideSelected)for(n=i.items.length-1;n>=0;n--)a.items.indexOf(u(i.items[n].id))!==-1&&i.items.splice(n,1);return i},refreshOptions:function(t){var n,r,a,o,s,l,c,p,d,f,h,g,m,v,y,k;void 0===t&&(t=!0);var b=this,w=e.trim(b.$control_input.val()),C=b.search(w),_=b.$dropdown_content,S=b.$activeOption&&u(b.$activeOption.attr("data-value"));for(o=C.items.length,"number"==typeof b.settings.maxOptions&&(o=Math.min(o,b.settings.maxOptions)),s={},l=[],n=0;n<o;n++)for(c=b.options[C.items[n].id],p=b.render("option",c),d=c[b.settings.optgroupField]||"",f=e.isArray(d)?d:[d],r=0,a=f&&f.length;r<a;r++)d=f[r],b.optgroups.hasOwnProperty(d)||(d=""),s.hasOwnProperty(d)||(s[d]=document.createDocumentFragment(),l.push(d)),s[d].appendChild(p);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){return(b.optgroups[e].$order||0)-(b.optgroups[t].$order||0)}),h=document.createDocumentFragment(),n=0,o=l.length;n<o;n++)d=l[n],b.optgroups.hasOwnProperty(d)&&s[d].childNodes.length?(g=document.createDocumentFragment(),g.appendChild(b.render("optgroup_header",b.optgroups[d])),g.appendChild(s[d]),h.appendChild(b.render("optgroup",e.extend({},b.optgroups[d],{html:x(g),dom:g})))):h.appendChild(s[d]);if(_.html(h),b.settings.highlight&&C.query.length&&C.tokens.length)for(_.removeHighlight(),n=0,o=C.tokens.length;n<o;n++)i(_,C.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,o=b.items.length;n<o;n++)b.getOption(b.items[n]).addClass("selected");m=b.canCreate(w),m&&(_.prepend(b.render("option_create",{input:w})),k=e(_[0].childNodes[0])),b.hasOptions=C.items.length>0||m,b.hasOptions?(C.items.length>0?(y=S&&b.getOption(S),y&&y.length?v=y:"single"===b.settings.mode&&b.items.length&&(v=b.getOption(b.items[0])),v&&v.length||(v=k&&!b.settings.addPrecedence?b.getAdjacentOption(k,1):_.find("[data-selectable]:first"))):v=k,b.setActiveOption(v),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(t){var n,i,r,a=this;if(e.isArray(t))for(n=0,i=t.length;n<i;n++)a.addOption(t[n]);else(r=a.registerOption(t))&&(a.userOptions[r]=!0,a.lastQuery=null,a.trigger("option_add",r,t))},registerOption:function(e){var t=u(e[this.settings.valueField]);return void 0!==t&&null!==t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=u(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i,r,a,o,s,l,c,p=this;if(t=u(t),a=u(n[p.settings.valueField]),null!==t&&p.options.hasOwnProperty(t)){if("string"!=typeof a)throw new Error("Value must be set in option data");c=p.options[t].$order,a!==t&&(delete p.options[t],(o=p.items.indexOf(t))!==-1&&p.items.splice(o,1,a)),n.$order=n.$order||c,p.options[a]=n,s=p.renderCache.item,l=p.renderCache.option,s&&(delete s[t],delete s[a]),l&&(delete l[t],delete l[a]),p.items.indexOf(a)!==-1&&(i=p.getItem(t),r=e(p.render("item",n)),i.hasClass("active")&&r.addClass("active"),i.replaceWith(r)),p.lastQuery=null,p.isOpen&&p.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=u(e);var i=n.renderCache.item,r=n.renderCache.option;i&&delete i[e],r&&delete r[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),r=i.index(t)+n;return r>=0&&r<i.length?i.eq(r):e()},getElementWithValue:function(t,n){if(void 0!==(t=u(t))&&null!==t)for(var i=0,r=n.length;i<r;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var i=e.isArray(t)?t:[t],r=0,a=i.length;r<a;r++)this.isPending=r<a-1,this.addItem(i[r],n)},addItem:function(t,n){g(this,n?[]:["change"],function(){var i,r,a,o,s,l=this,c=l.settings.mode;if(t=u(t),l.items.indexOf(t)!==-1)return void("single"===c&&l.close());l.options.hasOwnProperty(t)&&("single"===c&&l.clear(n),"multi"===c&&l.isFull()||(i=e(l.render("item",l.options[t])),s=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(i),(!l.isPending||!s&&l.isFull())&&l.refreshState(),l.isSetup&&(a=l.$dropdown_content.find("[data-selectable]"),l.isPending||(r=l.getOption(t),o=l.getAdjacentOption(r,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),o&&l.setActiveOption(l.getOption(o))),!a.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,i),l.updateOriginalInput({silent:n}))))})},removeItem:function(t,n){var i,r,a,o=this;i=t instanceof e?t:o.getItem(t),t=u(i.attr("data-value")),(r=o.items.indexOf(t))!==-1&&(i.remove(),i.hasClass("active")&&(a=o.$activeItems.indexOf(i[0]),o.$activeItems.splice(a,1)),o.items.splice(r,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(t)&&o.removeOption(t,n),r<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:n}),o.positionDropdown(),o.trigger("item_remove",t,i))},createItem:function(t,n){var i=this,r=i.caretPos;t=t||e.trim(i.$control_input.val()||"");var a=arguments[arguments.length-1];if("function"!=typeof a&&(a=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(t))return a(),!1;i.lock();var o="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},s=f(function(e){if(i.unlock(),!e||"object"!=typeof e)return a();var t=u(e[i.settings.valueField]);if("string"!=typeof t)return a();i.setTextboxValue(""),i.addOption(e),i.setCaret(r),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),a(e)}),l=o.apply(this,[t,s]);return void 0!==l&&s(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,r,a=this;if(e=e||{},1===a.tagType){for(i=[],t=0,n=a.items.length;t<n;t++)r=a.options[a.items[t]][a.settings.labelField]||"",i.push('<option value="'+p(a.items[t])+'" selected="selected">'+p(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),a.$input.html(i.join(""))}else a.$input.val(a.getValue()),a.$input.attr("value",a.$input.val());a.isSetup&&(e.silent||a.trigger("change",a.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t){var n,i,r,a,o,s,l,c,u,p=this;if(r=t&&8===t.keyCode?-1:1,a=v(p.$control_input[0]),p.$activeOption&&!p.settings.hideSelected&&(l=p.getAdjacentOption(p.$activeOption,-1).attr("data-value")),o=[],p.$activeItems.length){for(u=p.$control.children(".active:"+(r>0?"last":"first")),s=p.$control.children(":not(input)").index(u),r>0&&s++,n=0,i=p.$activeItems.length;n<i;n++)o.push(e(p.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(p.isFocused||"single"===p.settings.mode)&&p.items.length&&(r<0&&0===a.start&&0===a.length?o.push(p.items[p.caretPos-1]):r>0&&a.start===p.$control_input.val().length&&o.push(p.items[p.caretPos]));if(!o.length||"function"==typeof p.settings.onDelete&&p.settings.onDelete.apply(p,[o])===!1)return!1;for(void 0!==s&&p.setCaret(s);o.length;)p.removeItem(o.pop());return p.showInput(),p.positionDropdown(),p.refreshOptions(!0),l&&(c=p.getOption(l),c.length&&p.setActiveOption(c)),!0},advanceSelection:function(e,t){var n,i,r,a,o,s=this;0!==e&&(s.rtl&&(e*=-1),n=e>0?"last":"first",i=v(s.$control_input[0]),s.isFocused&&!s.isInputHidden?(a=s.$control_input.val().length,(e<0?0===i.start&&0===i.length:i.start===a)&&!a&&s.advanceCaret(e,t)):(o=s.$control.children(".active:"+n),o.length&&(r=s.$control.children(":not(input)").index(o),s.setActiveItem(null),s.setCaret(e>0?r+1:r))))},advanceCaret:function(e,t){var n,i,r=this;0!==e&&(n=e>0?"next":"prev",r.isShiftDown?(i=r.$control_input[n](),i.length&&(r.hideInput(),r.setActiveItem(i),t&&t.preventDefault())):r.setCaret(r.caretPos+e))},setCaret:function(t){var n=this;if(t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t)),!n.isPending){var i,r,a,o;for(a=n.$control.children(":not(input)"),i=0,r=a.length;i<r;i++)o=e(a[i]).detach(),i<t?n.$control_input.before(o):n.$control.append(o)}n.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(t,n){var i,r,a="",o=!1,s=this;return"option"!==t&&"item"!==t||(i=u(n[s.settings.valueField]),o=!!i),o&&(c(s.renderCache[t])||(s.renderCache[t]={}),s.renderCache[t].hasOwnProperty(i))?s.renderCache[t][i]:(a=e(s.settings.render[t].apply(this,[n,p])),"option"===t||"option_create"===t?a.attr("data-selectable",""):"optgroup"===t&&(r=n[s.settings.optgroupValueField]||"",a.attr("data-group",r)),"option"!==t&&"item"!==t||a.attr("data-value",i||""),o&&(s.renderCache[t][i]=a[0]),a[0])},clearCache:function(e){var t=this;void 0===e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return e.length&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}}),w.count=0,w.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),r=i.dataAttr,a=i.labelField,o=i.valueField,s=i.optgroupField,l=i.optgroupLabelField,c=i.optgroupValueField,p=function(t,n){var s,l,c,u,p=t.attr(r);if(p)for(n.options=JSON.parse(p),s=0,l=n.options.length;s<l;s++)n.items.push(n.options[s][o]);else{var d=e.trim(t.val()||"");if(!i.allowEmptyOption&&!d.length)return;for(c=d.split(i.delimiter),s=0,l=c.length;s<l;s++)u={},u[a]=c[s],u[o]=c[s],n.options.push(u);n.items=c}},d=function(t,n){var p,d,f,h,g=n.options,m={},v=function(e){var t=r&&e.attr(r);return"string"==typeof t&&t.length?JSON.parse(t):null},y=function(t,r){t=e(t);var l=u(t.val());if(l||i.allowEmptyOption)if(m.hasOwnProperty(l)){if(r){var c=m[l][s];c?e.isArray(c)?c.push(r):m[l][s]=[c,r]:m[l][s]=r}}else{var p=v(t)||{};p[a]=p[a]||t.text(),p[o]=p[o]||l,p[s]=p[s]||r,m[l]=p,g.push(p),t.is(":selected")&&n.items.push(l)}};for(n.maxItems=t.attr("multiple")?null:1,h=t.children(),p=0,d=h.length;p<d;p++)f=h[p].tagName.toLowerCase(),"optgroup"===f?function(t){var i,r,a,o,s;for(t=e(t),a=t.attr("label"),a&&(o=v(t)||{},o[l]=a,o[c]=a,n.optgroups.push(o)),s=e("option",t),i=0,r=s.length;i<r;i++)y(s[i],a)}(h[p]):"option"===f&&y(h[p])};return this.each(function(){if(!this.selectize){var r=e(this),a=this.tagName.toLowerCase(),o=r.attr("placeholder")||r.attr("data-placeholder");o||i.allowEmptyOption||(o=r.children('option[value=""]').text());var s={placeholder:o,options:[],optgroups:[],items:[]};"select"===a?d(r,s):p(r,s),new w(r,e.extend(!0,{},n,s,t))}})},e.fn.selectize.defaults=w.defaults,e.fn.selectize.support={validity:l},w.define("drag_drop",function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var e=n.lock;return function(){var t=n.$control.data("sortable");return t&&t.disable(),e.apply(n,arguments)}}(),n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");return t&&t.enable(),e.apply(n,arguments)}}(),n.setup=function(){var t=n.setup;return function(){t.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var t=n.$activeItems?n.$activeItems.slice():null,r=[];i.children("[data-value]").each(function(){r.push(e(this).attr("data-value"))}),n.setValue(r),n.setActiveItem(t)}})}}()}}),w.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=e(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)}}()}),w.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),r=i.index(t)+n;return r>=0&&r<i.length?i.eq(r):e()},this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var i,r,a,o;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?e.apply(this,arguments):(n.ignoreHover=!0,o=this.$activeOption.closest("[data-group]"),i=o.find("[data-selectable]").index(this.$activeOption),o=37===t.keyCode?o.prev("[data-group]"):o.next("[data-group]"),a=o.find("[data-selectable]"),r=a.eq(Math.min(a.length-1,i)),void(r.length&&this.setActiveOption(r)))}}();var i=function(){var e,t=i.width,n=document;return void 0===t&&(e=n.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=i.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},r=function(){var r,a,o,s,l,c,u;if(u=e("[data-group]",n.$dropdown_content),(a=u.length)&&n.$dropdown_content.width()){if(t.equalizeHeight){for(o=0,r=0;r<a;r++)o=Math.max(o,u.eq(r).height());u.css({height:o})}t.equalizeWidth&&(c=n.$dropdown_content.innerWidth()-i(),s=Math.round(c/a),u.css({width:s}),a>1&&(l=c-s*(a-1),u.eq(a-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(d.after(this,"positionDropdown",r),d.after(this,"refreshOptions",r))}),w.define("remove_button",function(t){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);if("single"===this.settings.mode)return void function(t,n){n.className="remove-single";var i=t,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+p(n.title)+'">'+n.label+"</a>",a=function(e,t){return e+t};t.setup=function(){var o=i.setup;return function(){if(n.append){var s=e(i.$input.context).attr("id"),l=(e("#"+s),i.settings.render.item);i.settings.render.item=function(e){return a(l.apply(t,arguments),r)}}o.apply(t,arguments),t.$control.on("click","."+n.className,function(e){e.preventDefault(),i.isLocked||i.clear()})}}()}(this,t);!function(t,n){var i=t,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+p(n.title)+'">'+n.label+"</a>",a=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};t.setup=function(){var o=i.setup;return function(){if(n.append){var s=i.settings.render.item;i.settings.render.item=function(e){return a(s.apply(t,arguments),r)}}o.apply(t,arguments),t.$control.on("click","."+n.className,function(t){if(t.preventDefault(),!i.isLocked){var n=e(t.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()}(this,t)}),w.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var i,r;return 8===t.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(r=this.options[this.items[i]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[r])),this.refreshOptions(!0)),void t.preventDefault()):n.apply(this,arguments)}}()}),w}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return s.raw?e:encodeURIComponent(e)}function n(e){return s.raw?e:decodeURIComponent(e)}function i(e){return t(s.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(o," ")),s.json?JSON.parse(e):e}catch(e){}}function a(t,n){var i=s.raw?t:r(t);return e.isFunction(n)?n(i):i}var o=/\+/g,s=e.cookie=function(r,o,l){if(void 0!==o&&!e.isFunction(o)){if(l=e.extend({},s.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setTime(+u+864e5*c)}return document.cookie=[t(r),"=",i(o),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var p=r?void 0:{},d=document.cookie?document.cookie.split("; "):[],f=0,h=d.length;f<h;f++){var g=d[f].split("="),m=n(g.shift()),v=g.join("=");if(r&&r===m){p=a(v,o);break}r||void 0===(v=a(v))||(p[m]=v)}return p};s.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),$(document).ready(function(){$(".btn-open-dialog-box").click(function(){$(".dialog-box").toggleClass("dialog-box_hidden");var e=document.getElementById("scroll").scrollHeight;return $("#scroll").scrollTop(e),!1}),$(".btn-close-dialog-box").click(function(){return $(".dialog-box").addClass("dialog-box_hidden"),!1}),$(document).click(function(e){$(e.target).closest(".dialog-box").length||($(".dialog-box").addClass("dialog-box_hidden"),e.stopPropagation())}),$(".btn-delete-avatar").click(function(){$(this).parent().remove()}),$(document).click(function(e){$(e.target).closest(".header__logo>.fa-bars").length||$(e.target).closest(".mobile-menu__nav").length||$(e.target).closest(".mobile-menu__body").length||($(".nav-mobile").removeClass("nav-mobile_open"),$(".header").removeClass("header_mobile-menu_open"),e.stopPropagation())}),$(".header__logo>.fa-bars").click(function(){$(".nav-mobile").toggleClass("nav-mobile_open"),$(".header").toggleClass("header_mobile-menu_open")}),$(".mobile-menu__nav-item").click(function(){$(this).hasClass("mobile-menu__nav-item_active")||($(".mobile-menu__nav-item").removeClass("mobile-menu__nav-item_active"),$(".mobile-menu__list").removeClass("mobile-menu__list_active"),$(this).addClass("mobile-menu__nav-item_active")),$(this).hasClass("mobile-menu__nav-item_kids")&&$(".mobile-menu__list_kids").addClass("mobile-menu__list_active"),$(this).hasClass("mobile-menu__nav-item_home")&&$(".mobile-menu__list_home").addClass("mobile-menu__list_active"),$(this).hasClass("mobile-menu__nav-item_native")&&$(".mobile-menu__list_native").addClass("mobile-menu__list_active")}),$('input[type="tel"]').inputmask({mask:"(999) 999-9999"}),$(window).width()>768&&$(".selectize").selectize(),$(window).width()>768&&($(".worksheet__tabs .tab-pane").first().addClass("in active"),$(".vacancy-card__tabs .tab-pane").first().addClass("in active")),$.modal={show:function(e){$.post(e).done(function(e){$(".modal-content").html(e),$("#modal").modal("show")})}},$.region={setDomainCookie:function(e){var t=location.hostname.split(".");$.cookie("domain",e,{expires:365,path:"/",domain:"."+t[t.length-2]+"."+t[t.length-1]})}},$(window).width(),$(".nav__btn").click(function(){$(".nav__dropdown").removeClass("open"),$(this).parent().addClass("open")}),$(window).width()<992&&($(".catalog__sidebar").wrap('<div class="modal" id="filterModal"><div class="modal-dialog"><div class="modal-content"></div></div></div>'),$("#filterModal .modal-content").prepend('<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h5 class="modal-title">Фильтры</h5></div>')),$(".communion__message-line").click(function(){$(this).toggleClass("communion__message-line_active")}),$(".menu .parent > a").click(function(){return $(this).toggleClass("open"),$(this).next(".menu__list--child").slideToggle(),!1}),$(".resume__fulltext").each(function(){$(this).text().length>200&&$(this).parent().find(".resume__introtext").append('<a href="#" onclick="$(this).parent().hide().next().show(); return false;">раскрыть<span class="glyphicon glyphicon-menu-down" style="font-size:10px;"></span></a>')}),$.discount={show:function(){return $(".discount-modal").fadeIn(),$(".body").addClass("modal-open").css({"padding-right":17}),$(".header").css({position:"fixed"}),!1},hide:function(){return $(".discount-modal").fadeOut(),$(".body").removeClass("modal-open").removeAttr("style"),$(".header").css({position:"relative"}),!1}},$(document).on("change",".pmgt-collapse input[type=radio]",function(){$(".pmgt-collapse__panel").removeClass("open"),$(this).parents(".pmgt-collapse__panel").addClass("open"),open})}),$(document).ready(function(){var e=1;$(".catalog__show-more").click(function(){$(".catalog__show-more").hide().next().show(),e++;var t=$(".catalog__filters").serialize();$.ajax({url:location.href+"?page="+e,type:"POST",dataType:"html",data:t,success:function(e){$(".catalog__list--all").append(e),$(".catalog__show-more").show().next().hide()}})}),noUiSlider.create(document.getElementById("age-range"),{start:[0,75],step:1,margin:5,tooltips:!0,connect:!0,range:{min:14,max:75},format:wNumb({decimals:0})}),document.getElementById("age-range").noUiSlider.on("change",function(e){$("input#AgeMinTarget").val(e[0]),$("input#AgeMaxTarget").val(e[1]).trigger("change")}),$(".catalog__filters").on("change","input, select",function(){e=1,$(".catalog__show-more").hide(),$(".catalog__list--all").empty().html('<div class="catalog__loader"></div>');var t=$(".catalog__filters").serialize();$.ajax({url:location.href+"?page=1",type:"POST",dataType:"html",data:t,success:function(e){""!=e?$(".catalog__list--all").empty().html(e):$(".catalog__list--all").empty().html("<p>Работники не найдены, измените критерии отбора</p>"),$(".catalog__show-more").show()}})})}),$(function(e){e.scripts||(e.scripts={}),e.scripts.modal||(e.scripts.modal={});var t=e.scripts.modal;t.unobtrusive={parse:function(t){e(document).off("click","*[data-modal]"),e(document).on("click","*[data-modal]",function(){var t=e(this),n=null!=t.data("gobackonclose")&&"true"==t.data("gobackonclose").toString().toLowerCase(),i=t.data("gotourlonclose"),r=t.data("title"),a=t.data("buttontext"),o=t.data().width,s=t.data("method")||"post",l=t.data("url").toLowerCase();return l+=l.indexOf("?")<0?"?":"&",l+=(new Date).getTime(),e.ajax({type:s,url:l}).done(function(t){o&&e(".modal-dialog").css("width",o);var s=e(".modal-content");s.html(t),r&&s.find(".modal-title").text(r),a&&s.find("form button[type='submit']").text(a),e("#modal").on("hide.bs.modal",function(e){n&&history.length>1&&document.referrer.indexOf(document.location.host)!=-1?history.back():null!=i&&(document.location.href=i.toString())}),e("#modal").on("hidden.bs.modal",function(){o&&e(".modal-dialog").removeAttr("style")});for(var l in e.scripts)"ajax"!==l&&e.scripts[l].unobtrusive&&e.scripts[l].unobtrusive.parse(s);e.validator.unobtrusive.parse(s),e("#modal").modal("show")}),!1})}},e(function(){t.unobtrusive.parse(document)})}(jQuery)),$(".dropdown__title").click(function(){var e=$(this).parent(),t=$(e).children(".dropdown__content");return $(this).hasClass("dropdown__title_open")?$(t).slideUp(500):$(t).slideDown(500),$(this).toggleClass("dropdown__title_open"),!1}),$("div").is("#dialog-window")){var scrollHeight=document.getElementById("dialog-window").scrollHeight;$("#dialog-window").scrollTop(scrollHeight)}$(".filter-resumes-item").click(function(){$(".filter-resumes-item").removeClass("filter-resumes-item_active"),$(this).toggleClass("filter-resumes-item_active")
;var e=$(".filter-resumes-item_active .filter-resumes-item__title-name").text();return console.log(e),$(".messages-nav__input").focus().attr("placeholder",e),!1}),$(".messages-nav__button").click(function(){toggleFilterList()}),$(".messages-nav-button_open").click(function(){toggleFilterList()}),$(".filter-resumes-item").click(function(){toggleFilterList()});